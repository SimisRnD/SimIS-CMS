!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.jSuites=factory():root.jSuites=factory()}(this,(function(){return function(){var __webpack_modules__={195:function(module){module.exports=function(str){function int64(msint_32,lsint_32){this.highOrder=msint_32,this.lowOrder=lsint_32}var a,b,c,d,e,f,g,h,T1,T2,H=[new int64(1779033703,4089235720),new int64(3144134277,2227873595),new int64(1013904242,4271175723),new int64(2773480762,1595750129),new int64(1359893119,2917565137),new int64(2600822924,725511199),new int64(528734635,4215389547),new int64(1541459225,327033209)],K=[new int64(1116352408,3609767458),new int64(1899447441,602891725),new int64(3049323471,3964484399),new int64(3921009573,2173295548),new int64(961987163,4081628472),new int64(1508970993,3053834265),new int64(2453635748,2937671579),new int64(2870763221,3664609560),new int64(3624381080,2734883394),new int64(310598401,1164996542),new int64(607225278,1323610764),new int64(1426881987,3590304994),new int64(1925078388,4068182383),new int64(2162078206,991336113),new int64(2614888103,633803317),new int64(3248222580,3479774868),new int64(3835390401,2666613458),new int64(4022224774,944711139),new int64(264347078,2341262773),new int64(604807628,2007800933),new int64(770255983,1495990901),new int64(1249150122,1856431235),new int64(1555081692,3175218132),new int64(1996064986,2198950837),new int64(2554220882,3999719339),new int64(2821834349,766784016),new int64(2952996808,2566594879),new int64(3210313671,3203337956),new int64(3336571891,1034457026),new int64(3584528711,2466948901),new int64(113926993,3758326383),new int64(338241895,168717936),new int64(666307205,1188179964),new int64(773529912,1546045734),new int64(1294757372,1522805485),new int64(1396182291,2643833823),new int64(1695183700,2343527390),new int64(1986661051,1014477480),new int64(2177026350,1206759142),new int64(2456956037,344077627),new int64(2730485921,1290863460),new int64(2820302411,3158454273),new int64(3259730800,3505952657),new int64(3345764771,106217008),new int64(3516065817,3606008344),new int64(3600352804,1432725776),new int64(4094571909,1467031594),new int64(275423344,851169720),new int64(430227734,3100823752),new int64(506948616,1363258195),new int64(659060556,3750685593),new int64(883997877,3785050280),new int64(958139571,3318307427),new int64(1322822218,3812723403),new int64(1537002063,2003034995),new int64(1747873779,3602036899),new int64(1955562222,1575990012),new int64(2024104815,1125592928),new int64(2227730452,2716904306),new int64(2361852424,442776044),new int64(2428436474,593698344),new int64(2756734187,3733110249),new int64(3204031479,2999351573),new int64(3329325298,3815920427),new int64(3391569614,3928383900),new int64(3515267271,566280711),new int64(3940187606,3454069534),new int64(4118630271,4000239992),new int64(116418474,1914138554),new int64(174292421,2731055270),new int64(289380356,3203993006),new int64(460393269,320620315),new int64(685471733,587496836),new int64(852142971,1086792851),new int64(1017036298,365543100),new int64(1126000580,2618297676),new int64(1288033470,3409855158),new int64(1501505948,4234509866),new int64(1607167915,987167468),new int64(1816402316,1246189591)],W=new Array(64),charsize=8;function utf8_encode(str){return unescape(encodeURIComponent(str))}function str2binb(str){for(var bin=[],mask=(1<<charsize)-1,len=str.length*charsize,i=0;i<len;i+=charsize)bin[i>>5]|=(str.charCodeAt(i/charsize)&mask)<<32-charsize-i%32;return bin}function binb2hex(binarray){for(var srcByte,hex_tab="0123456789abcdef",str="",length=4*binarray.length,i=0;i<length;i+=1)srcByte=binarray[i>>2]>>8*(3-i%4),str+=hex_tab.charAt(srcByte>>4&15)+hex_tab.charAt(15&srcByte);return str}function safe_add_2(x,y){var lsw,msw,lowOrder;return lsw=(65535&x.lowOrder)+(65535&y.lowOrder),lowOrder=(65535&(msw=(x.lowOrder>>>16)+(y.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&x.highOrder)+(65535&y.highOrder)+(msw>>>16),new int64((65535&(msw=(x.highOrder>>>16)+(y.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function safe_add_4(a,b,c,d){var lsw,msw,lowOrder;return lsw=(65535&a.lowOrder)+(65535&b.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder),lowOrder=(65535&(msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&a.highOrder)+(65535&b.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(msw>>>16),new int64((65535&(msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function safe_add_5(a,b,c,d,e){var lsw,msw,lowOrder;return lsw=(65535&a.lowOrder)+(65535&b.lowOrder)+(65535&c.lowOrder)+(65535&d.lowOrder)+(65535&e.lowOrder),lowOrder=(65535&(msw=(a.lowOrder>>>16)+(b.lowOrder>>>16)+(c.lowOrder>>>16)+(d.lowOrder>>>16)+(e.lowOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lsw=(65535&a.highOrder)+(65535&b.highOrder)+(65535&c.highOrder)+(65535&d.highOrder)+(65535&e.highOrder)+(msw>>>16),new int64((65535&(msw=(a.highOrder>>>16)+(b.highOrder>>>16)+(c.highOrder>>>16)+(d.highOrder>>>16)+(e.highOrder>>>16)+(lsw>>>16)))<<16|65535&lsw,lowOrder)}function maj(x,y,z){return new int64(x.highOrder&y.highOrder^x.highOrder&z.highOrder^y.highOrder&z.highOrder,x.lowOrder&y.lowOrder^x.lowOrder&z.lowOrder^y.lowOrder&z.lowOrder)}function ch(x,y,z){return new int64(x.highOrder&y.highOrder^~x.highOrder&z.highOrder,x.lowOrder&y.lowOrder^~x.lowOrder&z.lowOrder)}function rotr(x,n){return n<=32?new int64(x.highOrder>>>n|x.lowOrder<<32-n,x.lowOrder>>>n|x.highOrder<<32-n):new int64(x.lowOrder>>>n|x.highOrder<<32-n,x.highOrder>>>n|x.lowOrder<<32-n)}function sigma0(x){var rotr28=rotr(x,28),rotr34=rotr(x,34),rotr39=rotr(x,39);return new int64(rotr28.highOrder^rotr34.highOrder^rotr39.highOrder,rotr28.lowOrder^rotr34.lowOrder^rotr39.lowOrder)}function sigma1(x){var rotr14=rotr(x,14),rotr18=rotr(x,18),rotr41=rotr(x,41);return new int64(rotr14.highOrder^rotr18.highOrder^rotr41.highOrder,rotr14.lowOrder^rotr18.lowOrder^rotr41.lowOrder)}function gamma0(x){var rotr1=rotr(x,1),rotr8=rotr(x,8),shr7=shr(x,7);return new int64(rotr1.highOrder^rotr8.highOrder^shr7.highOrder,rotr1.lowOrder^rotr8.lowOrder^shr7.lowOrder)}function gamma1(x){var rotr19=rotr(x,19),rotr61=rotr(x,61),shr6=shr(x,6);return new int64(rotr19.highOrder^rotr61.highOrder^shr6.highOrder,rotr19.lowOrder^rotr61.lowOrder^shr6.lowOrder)}function shr(x,n){return n<=32?new int64(x.highOrder>>>n,x.lowOrder>>>n|x.highOrder<<32-n):new int64(0,x.highOrder<<32-n)}var strlen=(str=utf8_encode(str)).length*charsize;(str=str2binb(str))[strlen>>5]|=128<<24-strlen%32,str[31+(strlen+128>>10<<5)]=strlen;for(var i=0;i<str.length;i+=32){a=H[0],b=H[1],c=H[2],d=H[3],e=H[4],f=H[5],g=H[6],h=H[7];for(var j=0;j<80;j++)W[j]=j<16?new int64(str[2*j+i],str[2*j+i+1]):safe_add_4(gamma1(W[j-2]),W[j-7],gamma0(W[j-15]),W[j-16]),T1=safe_add_5(h,sigma1(e),ch(e,f,g),K[j],W[j]),T2=safe_add_2(sigma0(a),maj(a,b,c)),h=g,g=f,f=e,e=safe_add_2(d,T1),d=c,c=b,b=a,a=safe_add_2(T1,T2);H[0]=safe_add_2(a,H[0]),H[1]=safe_add_2(b,H[1]),H[2]=safe_add_2(c,H[2]),H[3]=safe_add_2(d,H[3]),H[4]=safe_add_2(e,H[4]),H[5]=safe_add_2(f,H[5]),H[6]=safe_add_2(g,H[6]),H[7]=safe_add_2(h,H[7])}var binarray=[];for(i=0;i<H.length;i++)binarray.push(H[i].highOrder),binarray.push(H[i].lowOrder);return binb2hex(binarray)}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=function(exports,definition){for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)};var __webpack_exports__={};return function(){"use strict";__webpack_require__.d(__webpack_exports__,{default:function(){return jsuites}});var Helpers={two:function(value){return 1==(value=""+value).length&&(value="0"+value),value},focus:function(el){if(el.innerText.length){var range=document.createRange(),sel=window.getSelection(),node=el.childNodes[el.childNodes.length-1];range.setStart(node,node.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),el.scrollLeft=el.scrollWidth}},isNumeric:function(num){return"string"==typeof num&&(num=num.trim()),!isNaN(num)&&null!==num&&""!==num},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(c){var r=16*Math.random()|0;return("x"==c?r:3&r|8).toString(16)}))},getNode:function(){var node=document.getSelection().anchorNode;return node?3==node.nodeType?node.parentNode:node:null},hash:function(str){var i,chr,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)(chr=str.charCodeAt(i))>32&&(hash=(hash<<5)-hash+chr,hash|=0);return hash},randomColor:function(h){var hex=String("#"+Math.random().toString(16).slice(2,8).toUpperCase()).replace(/[^0-9a-f]/gi,"");hex.length<6&&(hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]);var c,i,rgb=[];for(i=0;i<3;i++)c=parseInt(hex.substr(2*i,2),16),c=Math.round(Math.min(Math.max(0,c+-.25*c),255)).toString(16),rgb.push(("00"+c).substr(c.length));return 1==h?"#"+Helpers.two(rgb[0].toString(16))+Helpers.two(rgb[1].toString(16))+Helpers.two(rgb[2].toString(16)):rgb},getWindowWidth:function(){var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0];return w.innerWidth||e.clientWidth||g.clientWidth},getWindowHeight:function(){var w=window,d=document,e=d.documentElement,g=d.getElementsByTagName("body")[0];return w.innerHeight||e.clientHeight||g.clientHeight},getPosition:function(e){if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].pageX,y=e.changedTouches[0].pageY;else x=window.Event?e.pageX:e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),y=window.Event?e.pageY:e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);return[x,y]},click:function(el){if(el.click)el.click();else{var evt=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});el.dispatchEvent(evt)}},findElement:function(element,condition){var foundElement=!1;return function path(element){element&&!foundElement&&("function"==typeof condition?foundElement=condition(element):"string"==typeof condition&&element.classList&&element.classList.contains(condition)&&(foundElement=element)),element.parentNode&&!foundElement&&path(element.parentNode)}(element),foundElement}},helpers=Helpers;var Component,excelInitialTime,excelLeapYearBug,helpers_date=(Component={now:function(date,dateOnly){var y=null,m=null,d=null,h=null,i=null,s=null;return Array.isArray(date)?(y=date[0],m=date[1],d=date[2],h=date[3],i=date[4],s=date[5]):(date||(date=new Date),y=date.getFullYear(),m=date.getMonth()+1,d=date.getDate(),h=date.getHours(),i=date.getMinutes(),s=date.getSeconds()),1==dateOnly?helpers.two(y)+"-"+helpers.two(m)+"-"+helpers.two(d):helpers.two(y)+"-"+helpers.two(m)+"-"+helpers.two(d)+" "+helpers.two(h)+":"+helpers.two(i)+":"+helpers.two(s)},toArray:function(value){var time=(date=value.split(-1!==value.indexOf("T")?"T":" "))[1],date=date[0].split("-"),y=parseInt(date[0]),m=parseInt(date[1]),d=parseInt(date[2]),h=0,i=0;return time&&(time=time.split(":"),h=parseInt(time[0]),i=parseInt(time[1])),[y,m,d,h,i,0]}},excelInitialTime=Date.UTC(1900,0,0),excelLeapYearBug=Date.UTC(1900,1,29),Component.dateToNum=function(jsDate){"string"==typeof jsDate&&(jsDate=new Date(jsDate+"  GMT+0"));var jsDateInMilliseconds=jsDate.getTime();return jsDateInMilliseconds>=excelLeapYearBug&&(jsDateInMilliseconds+=864e5),(jsDateInMilliseconds-=excelInitialTime)/864e5},Component.numToDate=function(excelSerialNumber){var jsDateInMilliseconds=excelInitialTime+864e5*excelSerialNumber;jsDateInMilliseconds>=excelLeapYearBug&&(jsDateInMilliseconds-=864e5);const d=new Date(jsDateInMilliseconds);var date=[d.getUTCFullYear(),d.getUTCMonth()+1,d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()];return Component.now(date)},Component.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Component.months=["January","February","March","April","May","June","July","August","September","October","November","December"],Component.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Component.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Component),translate=function(t){return"undefined"!=typeof document&&document.dictionary&&document.dictionary[t]||t},dictionary={setDictionary:function(d){document.dictionary||(document.dictionary={});var t=null,i=null,k=Object.keys(d);for(i=0;i<k.length;i++)document.dictionary[k[i]]=d[k[i]];for(i=0;i<helpers_date.weekdays.length;i++)t=translate(helpers_date.weekdays[i]),helpers_date.weekdays[i]&&(helpers_date.weekdays[i]=t,helpers_date.weekdaysShort[i]=t.substr(0,3));for(i=0;i<helpers_date.months.length;i++)(t=translate(helpers_date.months[i]))&&(helpers_date.months[i]=t,helpers_date.monthsShort[i]=t.substr(0,3))},translate:translate};function Tracking(component,state){if(1==state)document.jsuitesComponents=document.jsuitesComponents.filter((function(v){return null!==v})),setTimeout((function(){document.jsuitesComponents.push(component)}),0);else{var index=document.jsuitesComponents.indexOf(component);index>=0&&document.jsuitesComponents.splice(index,1)}}function Path(str,val,remove){if((str=str.split(".")).length){let o=this,p=null;for(;str.length>1;)if(p=str.shift(),o.hasOwnProperty(p))o=o[p];else{if(void 0===val)return;o[p]={},o=o[p]}if(p=str.shift(),void 0!==val)return!0===remove?delete o[p]:o[p]=val,!0;if(o)return o[p]}return!1}function Sorting(el,options){var obj={options:{}},defaults={pointer:null,direction:null,ondragstart:null,ondragend:null,ondrop:null},dragElement=null;for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jsorting"),el.addEventListener("dragstart",(function(e){var position=Array.prototype.indexOf.call(e.target.parentNode.children,e.target);dragElement={element:e.target,o:position,d:position},e.target.style.opacity="0.25","function"==typeof obj.options.ondragstart&&obj.options.ondragstart(el,e.target,e)})),el.addEventListener("dragover",(function(e){if(e.preventDefault(),getElement(e.target)&&dragElement&&"true"==e.target.getAttribute("draggable")&&dragElement.element!=e.target){if(obj.options.direction)condition=e.target.clientWidth/2>e.offsetX;else var condition=e.target.clientHeight/2>e.offsetY;condition?e.target.parentNode.insertBefore(dragElement.element,e.target):e.target.parentNode.insertBefore(dragElement.element,e.target.nextSibling),dragElement.d=Array.prototype.indexOf.call(e.target.parentNode.children,dragElement.element)}})),el.addEventListener("dragleave",(function(e){e.preventDefault()})),el.addEventListener("dragend",(function(e){e.preventDefault(),dragElement&&("function"==typeof obj.options.ondragend&&obj.options.ondragend(el,dragElement.element,e),dragElement.o<dragElement.d?e.target.parentNode.insertBefore(dragElement.element,e.target.parentNode.children[dragElement.o]):e.target.parentNode.insertBefore(dragElement.element,e.target.parentNode.children[dragElement.o].nextSibling),dragElement.element.style.opacity="",dragElement=null)})),el.addEventListener("drop",(function(e){e.preventDefault(),dragElement&&dragElement.o!=dragElement.d&&"function"==typeof obj.options.ondrop&&obj.options.ondrop(el,dragElement.o,dragElement.d,dragElement.element,e.target,e),dragElement.element.style.opacity="",dragElement=null}));for(var getElement=function(element){var sorting=!1;return function path(element){element.className&&element.classList.contains("jsorting")&&(sorting=!0),sorting||path(element.parentNode)}(element),sorting},i=0;i<el.children.length;i++)el.children[i].hasAttribute("draggable")||el.children[i].setAttribute("draggable","true");return el.val=function(){for(var id=null,data=[],i=0;i<el.children.length;i++)(id=el.children[i].getAttribute("data-id"))&&data.push(id);return data},el}function LazyLoading(el,options){options.loadUp&&"function"==typeof options.loadUp||(options.loadUp=function(){return!1}),options.loadDown&&"function"==typeof options.loadDown||(options.loadDown=function(){return!1}),options.timer||(options.timer=100);var timeControlLoading=null,scrollControls=function(e){if(null==timeControlLoading){var event=!1,scrollTop=el.scrollTop;el.scrollTop+2*el.clientHeight>=el.scrollHeight?options.loadDown()&&(scrollTop==el.scrollTop&&(el.scrollTop=el.scrollTop-el.clientHeight),event=!0):el.scrollTop<=el.clientHeight&&options.loadUp()&&(scrollTop==el.scrollTop&&(el.scrollTop=el.scrollTop+el.clientHeight),event=!0),timeControlLoading=setTimeout((function(){timeControlLoading=null}),options.timer),event&&"function"==typeof options.onupdate&&options.onupdate()}};return el.onscroll=function(e){scrollControls()},el.onwheel=function(e){scrollControls()},{}}var ajax=function(){var Component=function(options,complete){if(Array.isArray(options)){var multiple={instance:[],complete:complete};if(options.length>0)for(var i=0;i<options.length;i++)options[i].multiple=multiple,multiple.instance.push(Component(options[i]));return multiple}if(options.data||(options.data={}),options.type&&(options.method=options.type),options.method||(options.method="GET"),options.dataType||(options.dataType="json"),options.data){var parseData=function(value,key){var vars=[];if(value){var keys=Object.keys(value);if(keys.length)for(var i=0;i<keys.length;i++){if(key)var k=key+"["+keys[i]+"]";else k=keys[i];if(value[k]instanceof FileList)vars[k]=value[keys[i]];else if(null===value[keys[i]]||void 0===value[keys[i]])vars[k]="";else if("object"==typeof value[keys[i]])for(var r=parseData(value[keys[i]],k),o=Object.keys(r),j=0;j<o.length;j++)vars[o[j]]=r[o[j]];else vars[k]=value[keys[i]]}}return vars},d=parseData(options.data),k=Object.keys(d);if("GET"==options.method){if(k.length){var data=[];for(i=0;i<k.length;i++)data.push(k[i]+"="+encodeURIComponent(d[k[i]]));options.url.indexOf("?")<0&&(options.url+="?"),options.url+=data.join("&")}}else for(data=new FormData,i=0;i<k.length;i++)if(d[k[i]]instanceof FileList){if(d[k[i]].length)for(var j=0;j<d[k[i]].length;j++)data.append(k[i],d[k[i]][j],d[k[i]][j].name)}else data.append(k[i],d[k[i]])}var httpRequest=new XMLHttpRequest;return httpRequest.open(options.method,options.url,!0),httpRequest.setRequestHeader("X-Requested-With","XMLHttpRequest"),options.contentType&&httpRequest.setRequestHeader("Content-Type",options.contentType),"POST"===options.method?httpRequest.setRequestHeader("Accept","application/json"):"blob"===options.dataType?httpRequest.responseType="blob":options.contentType||("json"===options.dataType?httpRequest.setRequestHeader("Content-Type","text/json"):"html"===options.dataType&&httpRequest.setRequestHeader("Content-Type","text/html")),!0!==options.cache&&(httpRequest.setRequestHeader("pragma","no-cache"),httpRequest.setRequestHeader("cache-control","no-cache")),!0===options.withCredentials&&(httpRequest.withCredentials=!0),"function"==typeof options.beforeSend&&options.beforeSend(httpRequest),"function"==typeof Component.beforeSend&&Component.beforeSend(httpRequest),document.ajax&&"function"==typeof document.ajax.beforeSend&&document.ajax.beforeSend(httpRequest),httpRequest.onload=function(){if(httpRequest.status>=200&&httpRequest.status<300)if("json"===options.dataType)try{var result=JSON.parse(httpRequest.responseText);options.success&&"function"==typeof options.success&&options.success(result)}catch(err){options.error&&"function"==typeof options.error&&options.error(err,result)}else{if("blob"===options.dataType)result=httpRequest.response;else result=httpRequest.responseText;options.success&&"function"==typeof options.success&&options.success(result)}else options.error&&"function"==typeof options.error&&options.error(httpRequest.responseText,httpRequest.status);if(Component.queue&&Component.queue.length>0&&Component.send(Component.queue.shift()),Component.requests&&Component.requests.length){var index=Component.requests.indexOf(httpRequest);if(Component.requests.splice(index,1),Component.requests.length||options.complete&&"function"==typeof options.complete&&options.complete(result),options.group&&Component.oncomplete&&"function"==typeof Component.oncomplete[options.group]&&(Component.pending(options.group)||(Component.oncomplete[options.group](),Component.oncomplete[options.group]=null)),options.multiple&&options.multiple.instance){index=options.multiple.instance.indexOf(httpRequest);options.multiple.instance.splice(index,1),options.multiple.instance.length||options.multiple.complete&&"function"==typeof options.multiple.complete&&options.multiple.complete(result)}}},httpRequest.options=options,httpRequest.data=data,!0===options.queue&&Component.requests.length>0?Component.queue.push(httpRequest):Component.send(httpRequest),httpRequest};return Component.send=function(httpRequest){httpRequest.data?Array.isArray(httpRequest.data)?httpRequest.send(httpRequest.data.join("&")):httpRequest.send(httpRequest.data):httpRequest.send(),Component.requests.push(httpRequest)},Component.exists=function(url,__callback){var http=new XMLHttpRequest;http.open("HEAD",url,!1),http.send(),http.status&&__callback(http.status)},Component.pending=function(group){var n=0,o=Component.requests;if(o&&o.length)for(var i=0;i<o.length;i++)group&&group!=o[i].options.group||n++;return n},Component.oncomplete={},Component.requests=[],Component.queue=[],Component}();var animation=function(){const Component={loading:{}};return Component.loading.show=function(timeout){Component.loading.element||(Component.loading.element=document.createElement("div"),Component.loading.element.className="jloading"),document.body.appendChild(Component.loading.element),timeout>0&&setTimeout((function(){Component.loading.hide()}),1e3*timeout)},Component.loading.hide=function(){Component.loading.element&&Component.loading.element.parentNode&&document.body.removeChild(Component.loading.element)},Component.slideLeft=function(element,direction,done){1==direction?(element.classList.add("slide-left-in"),setTimeout((function(){element.classList.remove("slide-left-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-left-out"),setTimeout((function(){element.classList.remove("slide-left-out"),"function"==typeof done&&done()}),400))},Component.slideRight=function(element,direction,done){!0===direction?(element.classList.add("slide-right-in"),setTimeout((function(){element.classList.remove("slide-right-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-right-out"),setTimeout((function(){element.classList.remove("slide-right-out"),"function"==typeof done&&done()}),400))},Component.slideTop=function(element,direction,done){!0===direction?(element.classList.add("slide-top-in"),setTimeout((function(){element.classList.remove("slide-top-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-top-out"),setTimeout((function(){element.classList.remove("slide-top-out"),"function"==typeof done&&done()}),400))},Component.slideBottom=function(element,direction,done){!0===direction?(element.classList.add("slide-bottom-in"),setTimeout((function(){element.classList.remove("slide-bottom-in"),"function"==typeof done&&done()}),400)):(element.classList.add("slide-bottom-out"),setTimeout((function(){element.classList.remove("slide-bottom-out"),"function"==typeof done&&done()}),100))},Component.fadeIn=function(element,done){element.style.display="",element.classList.add("fade-in"),setTimeout((function(){element.classList.remove("fade-in"),"function"==typeof done&&done()}),2e3)},Component.fadeOut=function(element,done){element.classList.add("fade-out"),setTimeout((function(){element.style.display="none",element.classList.remove("fade-out"),"function"==typeof done&&done()}),1e3)},Component}();var mask=function(){var tokens={text:["@"],currency:["#(.{1})##0?(.{1}0+)?( ?;(.*)?)?","#"],percentage:["0{1}(.{1}0+)?%"],numeric:["0{1}(.{1}0+)?"],datetime:["YYYY","YYY","YY","MMMMM","MMMM","MMM","MM","DDDDD","DDDD","DDD","DD","DY","DAY","WD","D","Q","MONTH","MON","HH24","HH12","HH","\\[H\\]","H","AM/PM","MI","SS","MS","Y","M"],general:["A","0","[0-9a-zA-Z$]+","."]},getDate=function(){if(-1!==this.mask.toLowerCase().indexOf("[h]")){var m=0;this.date[4]&&(m=parseFloat(this.date[4]/60));var v=parseInt(this.date[3])+m;v/=24}else this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]?(this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1),v=helpers.two(this.date[0])+"-"+helpers.two(this.date[1])+"-"+helpers.two(this.date[2]),(this.date[3]||this.date[4]||this.date[5])&&(v+=" "+helpers.two(this.date[3])+":"+helpers.two(this.date[4])+":"+helpers.two(this.date[5]))):v=helpers.two(this.date[3])+":"+helpers.two(this.date[4])+":"+helpers.two(this.date[5]);return v},extractDate=function(){var v="";if(this.date[0]&&this.date[1]&&this.date[2]||!this.date[3]&&!this.date[4]){if(this.date[0]||this.date[1]||this.date[2]||this.date[3]||this.date[4]||this.date[5]){this.date[0]&&this.date[1]&&!this.date[2]&&(this.date[2]=1);var t=helpers_date.now(this.date);v=helpers_date.dateToNum(t),this.date[4]&&(v+=parseFloat(this.date[4]/60))}}else{if(-1!==this.mask.toLowerCase().indexOf("[h]"))v=parseInt(this.date[3]);else{let h=parseInt(this.date[3]);v=h<13&&-1!==this.values.indexOf("PM")?(h+12)%24:h%24}this.date[4]&&(v+=parseFloat(this.date[4]/60)),this.date[5]&&(v+=parseFloat(this.date[5]/3600)),v/=24}return isNaN(v)&&(v=""),v},isBlank=function(v){return null===v||""===v||void 0===v},isNumeric=function(t){return"currency"===t||"percentage"===t||"numeric"===t},getDecimal=function(v){if(v&&Number(v)==v)return".";if(this.options.decimal)return this.options.decimal;if(this.locale){var t=Intl.NumberFormat(this.locale).format(1.1);return this.options.decimal=t[1]}return v||(v=this.mask),(t=new RegExp("0{1}(.{1})0+","ig").exec(v))&&t[1]&&1==t[1].length?(this.options.decimal=t[1],t[1]):((t=new RegExp("#{1}(.{1})#+","ig").exec(v))&&t[1]&&1==t[1].length?","===t[1]?this.options.decimal=".":this.options.decimal=",":this.options.decimal="1.1".toLocaleString().substring(1,2),this.options.decimal?this.options.decimal:null)},ParseValue=function(v,decimal){if(""==v)return"";decimal||(decimal=getDecimal.call(this));var signal=(v=(""+v).split(decimal))[0].match(/[-]+/g);return signal=!(!signal||!signal.length),v[0]=v[0].match(/[0-9]+/g),v[0]?(signal&&v[0].unshift("-"),v[0]=v[0].join("")):signal&&(v[0]="-"),v[0]||v[1]?(void 0!==v[1]&&(v[1]=v[1].match(/[0-9]+/g),v[1]?v[1]=v[1].join(""):v[1]=""),v):""},FormatValue=function(v,event){if(""===v)return"";var d=getDecimal.call(this),o=this.options;if(""===(v=ParseValue.call(this,v)))return"";var t=null;if(v[0]&&(t="percent"===o.style?parseFloat(v[0])/100:parseFloat(v[0]+".1")),("-"===v[0]||"-00"===v[0])&&!v[1]&&event&&"deleteContentBackward"==event.inputType)return"";var n=new Intl.NumberFormat(this.locale,o).format(t);if(n=n.split(d),"percent"===o.style&&-1!==n[0].indexOf("%")&&(n[0]=n[0].replace("%",""),n[2]="%"),void 0!==n[1]){var s=n[1].replace(/[0-9]*/g,"");s&&(n[2]=s)}return void 0!==v[1]?n[1]=d+v[1]:n[1]="",n.join("")},Format=function(e,event){var v=Value.call(e);if(v){var n=FormatValue.call(this,v,event),t=n.length-v.length,index=Caret.call(e)+t;Value.call(e,n,index,!0)}},Extract=function(v){var current=ParseValue.call(this,v);return current?("-"===current[0]&&(current[0]="-0"),parseFloat(current.join("."))):null},Caret=function(index,adjustNumeric){if(void 0===index){if("DIV"==this.tagName){var pos=0;if(s=window.getSelection())if(0!==s.rangeCount)(p=(r=s.getRangeAt(0)).cloneRange()).selectNodeContents(this),p.setEnd(r.endContainer,r.endOffset),pos=p.toString().length;return pos}return this.selectionStart}var n=Value.call(this);if(adjustNumeric){for(var p=null,i=0;i<n.length;i++)(n[i].match(/[\-0-9]/g)||"."===n[i]||","===n[i])&&(p=i);null===p&&(p=n.indexOf(" ")),index>=p&&(index=p+1)}if(index>n.length&&(index=n.length),index)if("DIV"==this.tagName){var s=window.getSelection(),r=document.createRange();this.childNodes[0]&&(r.setStart(this.childNodes[0],index),s.removeAllRanges(),s.addRange(r))}else this.selectionStart=index,this.selectionEnd=index},Value=function(v,updateCaret,adjustNumeric){if("DIV"==this.tagName){if(void 0===v){v=this.innerText;return this.value&&this.value.length>v.length&&(v=this.value),v}this.innerText!==v&&(this.innerText=v,updateCaret&&Caret.call(this,updateCaret,adjustNumeric))}else{if(void 0===v)return this.value;this.value!==v&&(this.value=v,updateCaret&&Caret.call(this,updateCaret,adjustNumeric))}},weekDaysFull=helpers_date.weekdays,weekDays=helpers_date.weekdaysShort,monthsFull=helpers_date.months,months=helpers_date.monthsShort,parser={YEAR:function(v,s){var y=""+(new Date).getFullYear();if(void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(v)>=0&&parseInt(v)<=10&&this.values[this.index].length<s&&(this.values[this.index]+=v),this.values[this.index].length==s){if(2==s)y=y.substr(0,2)+this.values[this.index];else if(3==s)y=y.substr(0,1)+this.values[this.index];else if(4==s)y=this.values[this.index];this.date[0]=y,this.index++}},YYYY:function(v){parser.YEAR.call(this,v,4)},YYY:function(v){parser.YEAR.call(this,v,3)},YY:function(v){parser.YEAR.call(this,v,2)},FIND:function(v,a){if(isBlank(this.values[this.index])&&(this.values[this.index]=""),this.event&&this.event.inputType&&this.event.inputType.indexOf("delete")>-1)this.values[this.index]+=v;else{for(var pos=0,count=0,value=(this.values[this.index]+v).toLowerCase(),i=0;i<a.length;i++)0==a[i].toLowerCase().indexOf(value)&&(pos=i,count++);if(count>1)this.values[this.index]+=v;else if(1==count){var t=a[pos].length-this.values[this.index].length-1;return this.position+=t,this.values[this.index]=a[pos],this.index++,pos}}},MMM:function(v){var ret=parser.FIND.call(this,v,months);void 0!==ret&&(this.date[1]=ret+1)},MON:function(v){parser.MMM.call(this,v)},MMMM:function(v){var ret=parser.FIND.call(this,v,monthsFull);void 0!==ret&&(this.date[1]=ret+1)},MONTH:function(v){parser.MMMM.call(this,v)},MMMMM:function(v){isBlank(this.values[this.index])&&(this.values[this.index]="");for(var value=(this.values[this.index]+v).toLowerCase(),i=0;i<monthsFull.length;i++)if(0==monthsFull[i][0].toLowerCase().indexOf(value)){this.values[this.index]=monthsFull[i][0],this.date[1]=i+1,this.index++;break}},MM:function(v){isBlank(this.values[this.index])?parseInt(v)>1&&parseInt(v)<10?(this.date[1]=this.values[this.index]="0"+v,this.index++):parseInt(v)<2&&(this.values[this.index]=v):(1==this.values[this.index]&&parseInt(v)<3||0==this.values[this.index]&&parseInt(v)>0&&parseInt(v)<10)&&(this.date[1]=this.values[this.index]+=v,this.index++)},M:function(v){var test=!1;if(parseInt(v)>=0&&parseInt(v)<10)if(isBlank(this.values[this.index]))this.values[this.index]=v,v>1&&(this.date[1]=this.values[this.index],this.index++);else if(1==this.values[this.index]&&parseInt(v)<3)this.date[1]=this.values[this.index]+=v,this.index++;else if(0==this.values[this.index]&&parseInt(v)>0)this.date[1]=this.values[this.index]+=v,this.index++;else test=!0;else test=!0;if(1==test){var t=parseInt(this.values[this.index]);t>0&&t<12&&(this.date[1]=this.values[this.index],this.index++,this.position--)}},D:function(v){var test=!1;if(parseInt(v)>=0&&parseInt(v)<10)if(isBlank(this.values[this.index]))this.values[this.index]=v,parseInt(v)>3&&(this.date[2]=this.values[this.index],this.index++);else if(3==this.values[this.index]&&parseInt(v)<2)this.date[2]=this.values[this.index]+=v,this.index++;else if(1==this.values[this.index]||2==this.values[this.index])this.date[2]=this.values[this.index]+=v,this.index++;else if(0==this.values[this.index]&&parseInt(v)>0)this.date[2]=this.values[this.index]+=v,this.index++;else test=!0;else test=!0;if(1==test){var t=parseInt(this.values[this.index]);t>0&&t<32&&(this.date[2]=this.values[this.index],this.index++,this.position--)}},DD:function(v){isBlank(this.values[this.index])?parseInt(v)>3&&parseInt(v)<10?(this.date[2]=this.values[this.index]="0"+v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):(3==this.values[this.index]&&parseInt(v)<2||(1==this.values[this.index]||2==this.values[this.index])&&parseInt(v)<10||0==this.values[this.index]&&parseInt(v)>0&&parseInt(v)<10)&&(this.date[2]=this.values[this.index]+=v,this.index++)},DDD:function(v){parser.FIND.call(this,v,weekDays)},DY:function(v){parser.DDD.call(this,v)},DDDD:function(v){parser.FIND.call(this,v,weekDaysFull)},DAY:function(v){parser.DDDD.call(this,v)},HH12:function(v,two){isBlank(this.values[this.index])?parseInt(v)>1&&parseInt(v)<10?(two&&(v=0+v),this.date[3]=this.values[this.index]=v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):(1==this.values[this.index]&&parseInt(v)<3||this.values[this.index]<1&&parseInt(v)<10)&&(this.date[3]=this.values[this.index]+=v,this.index++)},HH24:function(v,two){parseInt(v)>=0&&parseInt(v)<10&&(null==this.values[this.index]||""==this.values[this.index]?parseInt(v)>2&&parseInt(v)<10?(two&&(v=0+v),this.date[3]=this.values[this.index]=v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):(2==this.values[this.index]&&parseInt(v)<4||this.values[this.index]<2&&parseInt(v)<10)&&(two||"0"!==this.values[this.index]||(this.values[this.index]=""),this.date[3]=this.values[this.index]+=v,this.index++))},HH:function(v){parser.HH24.call(this,v,1)},H:function(v){parser.HH24.call(this,v,0)},"\\[H\\]":function(v){null==this.values[this.index]&&(this.values[this.index]=""),v.match(/[0-9]/g)?this.date[3]=this.values[this.index]+=v:this.values[this.index].match(/[0-9]/g)&&(this.date[3]=this.values[this.index],this.index++,this.position--)},N60:function(v,i){null==this.values[this.index]||""==this.values[this.index]?parseInt(v)>5&&parseInt(v)<10?(this.date[i]=this.values[this.index]="0"+v,this.index++):parseInt(v)<10&&(this.values[this.index]=v):parseInt(v)<10&&(this.date[i]=this.values[this.index]+=v,this.index++)},MI:function(v){parser.N60.call(this,v,4)},SS:function(v){parser.N60.call(this,v,5)},"AM/PM":function(v){void 0===this.values[this.index]&&(this.values[this.index]=""),""===this.values[this.index]?v.match(/a/i)&&this.date[3]<13?this.values[this.index]+="A":v.match(/p/i)&&(this.values[this.index]+="P"):"A"!==this.values[this.index]&&"P"!==this.values[this.index]||(this.values[this.index]+="M",this.index++)},WD:function(v){void 0===this.values[this.index]&&(this.values[this.index]=""),parseInt(v)>=0&&parseInt(v)<7&&(this.values[this.index]=v),1==this.values[this.index].length&&this.index++},"0{1}(.{1}0+)?":function(v){var decimal=getDecimal.call(this),neg=!1;isBlank(this.values[this.index])?this.values[this.index]="":"-"==this.values[this.index]&&(neg=!0);var current=ParseValue.call(this,this.values[this.index],decimal);current&&(this.values[this.index]=current.join(decimal)),parseInt(v)>=0&&parseInt(v)<10?("0"==this.values[this.index]&&v>0?this.values[this.index]="":"-0"==this.values[this.index]&&v>0&&(this.values[this.index]="-"),("0"!=this.values[this.index]&&"-0"!=this.values[this.index]||v==decimal)&&(this.values[this.index]+=v)):decimal&&v==decimal?-1==this.values[this.index].indexOf(decimal)&&(this.values[this.index]||(this.values[this.index]="0"),this.values[this.index]+=v):"-"==v&&(neg=!0),!0===neg&&"-"!==this.values[this.index][0]&&(this.values[this.index]="-"+this.values[this.index])},"0{1}(.{1}0+)?%":function(v){parser["0{1}(.{1}0+)?"].call(this,v),this.values[this.index].match(/[\-0-9]/g)?this.values[this.index]&&-1==this.values[this.index].indexOf("%")&&(this.values[this.index]+="%"):this.values[this.index]=""},"#(.{1})##0?(.{1}0+)?( ?;(.*)?)?":function(v){parser["0{1}(.{1}0+)?"].call(this,v);var decimal=getDecimal.call(this),separator=this.tokens[this.index].substr(1,1),negative="-"===this.values[this.index][0],current=ParseValue.call(this,this.values[this.index],decimal);if(""!==current){var n=current[0].match(/[0-9]/g);if(n){for(var t=[],s=0,j=(n=n.join("")).length-1;j>=0;j--)t.push(n[j]),++s%3||t.push(separator);t=t.reverse(),current[0]=t.join(""),current[0].substr(0,1)==separator&&(current[0]=current[0].substr(1))}else current[0]="";this.values[this.index]=current.join(decimal),negative&&(this.values[this.index]="-"+this.values[this.index])}},0:function(v){v.match(/[0-9]/g)&&(this.values[this.index]=v,this.index++)},"[0-9a-zA-Z$]+":function(v){isBlank(this.values[this.index])&&(this.values[this.index]="");var t=this.tokens[this.index];t[this.values[this.index].length]==v?(this.values[this.index]+=v,this.values[this.index]==t&&this.index++):(this.values[this.index]=t,this.index++,v.match(/[\-0-9]/g)&&this.position--)},A:function(v){v.match(/[a-zA-Z]/gi)&&(this.values[this.index]=v,this.index++)},".":function(v){parser["[0-9a-zA-Z$]+"].call(this,v)},"@":function(v){isBlank(this.values[this.index])&&(this.values[this.index]=""),this.values[this.index]+=v}},getTokens=function(str){if("general"==this.type)var t=[].concat(tokens.general);else t=[].concat(tokens.currency,tokens.datetime,tokens.percentage,tokens.numeric,tokens.text,tokens.general);var e=new RegExp(t.join("|"),"gi");return str.match(e)},getMethod=function(str){if(this.type)if("text"==this.type)types=["text"];else if("general"==this.type)types=["general"];else if("datetime"==this.type)types=["numeric","datetime","general"];else types=["currency","percentage","numeric","general"];else var types=Object.keys(tokens);for(var i=0;i<types.length;i++)for(var type=types[i],j=0;j<tokens[type].length;j++){var e=new RegExp(tokens[type][j],"gi");if(str.match(e))return{type:type,method:tokens[type][j]}}},getMethods=function(t){for(var result=[],i=0;i<t.length;i++){var m=getMethod.call(this,t[i]);m?result.push(m.method):result.push(null)}for(i=0;i<result.length;i++)"MM"==result[i]&&(result[i-1]&&result[i-1].indexOf("H")>=0||result[i-2]&&result[i-2].indexOf("H")>=0||result[i+1]&&result[i+1].indexOf("S")>=0||result[i+2]&&result[i+2].indexOf("S")>=0)&&(result[i]="MI");return result},getType=function(str){var m=getMethod.call(this,str);if(m)var type=m.type;if(type){for(var numeric=0,t=getTokens.call(this,str),i=0;i<t.length;i++)(m=getMethod.call(this,t[i]))&&isNumeric(m.type)&&numeric++;numeric>1&&(type="general")}return type},parse=function(){"function"==typeof parser[this.methods[this.index]]?(parser[this.methods[this.index]].call(this,this.value[this.position]),this.position++):(this.values[this.index]=this.tokens[this.index],this.index++)},obj=function(e,config,returnObject){var t=null,o={input:null,value:null,options:{},values:[],index:0,position:0,date:[0,0,0,0,0,0],number:0};if("object"==typeof e){if(o.input=e.target,o.value=Value.call(e.target),o.caret=Caret.call(e.target),(t=e.target.getAttribute("data-mask"))&&(o.mask=t),(t=e.target.getAttribute("data-type"))&&(o.type=t),e.target.mask?(e.target.mask.options&&(o.options=e.target.mask.options),e.target.mask.locale&&(o.locale=e.target.mask.locale)):(t=e.target.getAttribute("data-locale"))&&(o.locale=t,o.mask&&(o.options.style=o.mask)),e.target.attributes&&e.target.attributes.length)for(var i=0;i<e.target.attributes.length;i++){var k=e.target.attributes[i].name,v=e.target.attributes[i].value;"data"==k.substr(0,4)&&(o.options[k.substr(5)]=v)}}else{if("string"==typeof config)o.mask=config;else for(k=Object.keys(config),i=0;i<k.length;i++)o[k[i]]=config[k[i]];"number"==typeof e&&(getDecimal.call(o,o.mask),e=(""+e).replace(".",o.options.decimal)),o.value=e,o.input&&(Value.call(o.input,e),helpers.focus(o.input),o.caret=Caret.call(o.input))}if("="!=(""+o.value)[0]&&(o.mask||o.locale)){if(o.mask){if(o.mask=o.mask.replace(new RegExp(/\[h]/),"|h|"),o.mask=o.mask.replace(new RegExp(/\[.*?\]/),""),o.mask=o.mask.replace(new RegExp(/\|h\|/),"[h]"),-1!==o.mask.indexOf(";")){t=o.mask.split(";");o.mask=t[0]}var d;if(-1!==o.mask.indexOf("##"))(d=o.mask.split(";"))[0]&&("object"==typeof e&&(d[0]=d[0].replace(new RegExp(/_\)/g),""),d[0]=d[0].replace(new RegExp(/_\(/g),"")),d[0]=d[0].replace("*","\t"),d[0]=d[0].replace(new RegExp(/_-/g),""),d[0]=d[0].replace(new RegExp(/_/g),""),d[0]=d[0].replace("##0.###","##0.000"),d[0]=d[0].replace("##0.##","##0.00"),d[0]=d[0].replace("##0.#","##0.0"),d[0]=d[0].replace("##0,###","##0,000"),d[0]=d[0].replace("##0,##","##0,00"),d[0]=d[0].replace("##0,#","##0,0")),o.mask=d[0];if(-1!==o.mask.indexOf("\\"))(d=o.mask.split(";"))[0]=d[0].replace(new RegExp(/\\/g),""),o.mask=d[0];o.type||(o.type=getType.call(o,o.mask)),o.tokens=getTokens.call(o,o.mask)}if("object"!=typeof e||!e.inputType||!e.inputType.indexOf("insert")||!e.inputType.indexOf("delete"))if(o.locale)if(o.input)Format.call(o,o.input,e);else var newValue=FormatValue.call(o,o.value);else{for(o.methods=getMethods.call(o,o.tokens),o.event=e;o.position<o.value.length&&void 0!==o.tokens[o.index];)parse.call(o);newValue=o.values.join("");if(isNumeric(o.type)&&""!==newValue){for(;void 0!==o.tokens[o.index];){(t=getMethod.call(o,o.tokens[o.index]))&&"general"==t.type&&(o.values[o.index]=o.tokens[o.index]),o.index++}var adjustNumeric=!0}else adjustNumeric=!1;if(newValue=o.values.join(""),o.input){if((t=newValue.length-o.value.length)>0)var caret=o.caret+t;else caret=o.caret;Value.call(o.input,newValue,caret,adjustNumeric)}}if(o.input){var label=null;if(isNumeric(o.type)){let v=Value.call(o.input);o.number=Extract.call(o,v),label="percentage"==o.type&&-1!==v.indexOf("%")?obj.adjustPrecision(o.number/100):o.number}else"datetime"==o.type&&(label=getDate.call(o),o.date[0]&&o.date[1]&&o.date[2]&&o.input.setAttribute("data-completed",!0));label&&o.input.setAttribute("data-value",label)}if(void 0!==newValue)return returnObject?o:newValue}};return obj.adjustPrecision=function(num){if("number"==typeof num&&!Number.isInteger(num)){const v=num.toString().split(".");if(v[1]&&v[1].length>10){let t0=0;const t1=v[1][v[1].length-2];if(0==t1||9==t1){for(let i=v[1].length-2;i>0;i--){if(!(t0>=0&&v[1][i]==t1)){t0=0;break}if(t0++,t0>6)break}if(t0)return parseFloat(parseFloat(num).toFixed(v[1].length-1))}}}return num},obj.getType=getType,obj.prepare=function(str,o){return o||(o={}),getTokens.call(o,str)},obj.apply=function(e){var v=Value.call(e.target);1==e.key.length&&(v+=e.key),Value.call(e.target,obj(v,e.target.getAttribute("data-mask")))},obj.run=function(value,mask,decimal){return obj(value,{mask:mask,decimal:decimal})},obj.extract=function(v,options,returnObject){if(isBlank(v))return v;if("object"!=typeof options)return v;if((options=Object.assign({},options)).options||(options.options={}),!options.mask&&options.format&&(options.mask=options.format),options.mask){if(-1!==options.mask.indexOf(";")){var t=options.mask.split(";");options.mask=t[0]}options.mask=options.mask.replace(new RegExp(/\[h]/),"|h|"),options.mask=options.mask.replace(new RegExp(/\[.*?\]/),""),options.mask=options.mask.replace(new RegExp(/\|h\|/),"[h]")}getDecimal.call(options,options.mask);var type=null,value=null;if("percent"==options.type||"percent"==options.options.style?type="percentage":options.mask&&(type=getType.call(options,options.mask)),"general"===type){var o=obj(v,options,!0);value=v}else if("datetime"===type){v instanceof Date&&(v=obj.getDateString(v,options.mask));o=obj(v,options,!0);value=helpers.isNumeric(v)?v:extractDate.call(o)}else{value=Extract.call(options,v),"percentage"===type&&-1!==v.indexOf("%")&&(value/=100);o=options}return o.value=value,!o.type&&type&&(o.type=type),returnObject?o:value},obj.render=function(value,options,fullMask){if(isBlank(value))return value;if("object"!=typeof options)return value;if((options=Object.assign({},options)).options||(options.options={}),!options.mask&&options.format&&(options.mask=options.format),options.mask){if(-1!==options.mask.indexOf(";")){var t=options.mask.split(";");fullMask||(t[0]=t[0].replace(new RegExp(/_\)/g),""),t[0]=t[0].replace(new RegExp(/_\(/g),"")),options.mask=t[0]}options.mask=options.mask.replace(new RegExp(/\[h]/),"|h|"),options.mask=options.mask.replace(new RegExp(/\[.*?\]/),""),options.mask=options.mask.replace(new RegExp(/\|h\|/),"[h]")}var type=null;"percent"==options.type||"percent"==options.options.style?type="percentage":options.mask?type=getType.call(options,options.mask):value instanceof Date&&(type="datetime");var fillWithBlanks=!1;if("datetime"==type||"calendar"==options.type)(t=obj.getDateString(value,options.mask))&&(value=t),options.mask&&fullMask&&(fillWithBlanks=!0);else if("percentage"===type&&(value=obj.adjustPrecision(100*value)),"number"==typeof value){t=null;if(options.mask&&fullMask&&-1===(""+value).indexOf("e")){var d=getDecimal.call(options,options.mask);-1!==options.mask.indexOf(d)?(d=(d=""+(d=options.mask.split(d))[1].match(/[0-9]+/g)).length,t=value.toFixed(d)):t=value.toFixed(0)}else if(options.locale&&fullMask){d=(""+value).split(".");if(options.options){void 0===d[1]&&(d[1]="");var len=d[1].length;if(options.options.minimumFractionDigits>len)for(var i=0;i<options.options.minimumFractionDigits-len;i++)d[1]+="0"}t=d[1].length?d.join("."):d[0];len=d[1].length;options.options&&options.options.maximumFractionDigits<len&&(t=parseFloat(t).toFixed(options.options.maximumFractionDigits))}else t=(""+ +value).replace(/(-?)(\d*)\.?(\d*)e([+-]\d+)/,(function(a,b,c,d,e){return e<0?b+"0."+Array(1-e-c.length).join(0)+c+d:b+c+d+Array(e-d.length+1).join(0)}));null!==t&&(value=t,getDecimal.call(options,options.mask),options.options.decimal&&(value=value.replace(".",options.options.decimal)))}else options.mask&&fullMask&&(fillWithBlanks=!0);if(fillWithBlanks){var s=options.mask.length-value.length;if(s>0)for(i=0;i<s;i++)value+=" "}if(value=obj(value,options),fullMask&&"numeric"===type){var maskZeros=options.mask.match(new RegExp(/^[0]+$/gm));if(maskZeros&&1===maskZeros.length){var maskLength=maskZeros[0].length;if(maskLength>3)for(value=""+value;value.length<maskLength;)value="0"+value}}return value},obj.set=function(e,m){if(m){e.setAttribute("data-mask",m);var event=new Event("input",{bubbles:!0,cancelable:!0});e.dispatchEvent(event)}},obj.extractDateFromString=function(date,format){var o=obj(date,{mask:format},!0);if(date>0&&Number(date)==date&&(o.values.join("")!==o.value||"numeric"==o.type)){var d=new Date(Math.round(86400*(date-25569)*1e3));return d.getFullYear()+"-"+helpers.two(d.getMonth())+"-"+helpers.two(d.getDate())+" 00:00:00"}var complete=!1;return o.values.length===o.tokens.length&&o.values[o.values.length-1].length>=o.tokens[o.tokens.length-1].length&&(complete=!0),o.date[0]&&o.date[1]&&(o.date[2]||complete)?(o.date[2]||(o.date[2]=1),o.date[0]+"-"+helpers.two(o.date[1])+"-"+helpers.two(o.date[2])+" "+helpers.two(o.date[3])+":"+helpers.two(o.date[4])+":"+helpers.two(o.date[5])):""},obj.getDateString=function(value,options){if(!options)options={};if(options&&"object"==typeof options)var format=options.format;else format=options;if(format||(format="YYYY-MM-DD"),format.indexOf("[h]")>=0){var result=0;if(value&&helpers.isNumeric(value)&&(result=parseFloat(24*Number(value)),format.indexOf("mm")>=0)){if((h=(""+result).split("."))[1]){var d=60*parseFloat("0."+h[1]);d=parseFloat(d.toFixed(2))}else d=0;result=parseInt(h[0])+":"+helpers.two(d)}return result}value instanceof Date?value=helpers_date.now(value):value&&helpers.isNumeric(value)&&(value=helpers_date.numToDate(value));for(var e=new RegExp(["DAY","WD","DDDD","DDD","DD","D","Q","HH24","HH12","HH","H","AM/PM","MI","SS","MS","YYYY","YYY","YY","Y","MONTH","MON","MMMMM","MMMM","MMM","MM","M","."].join("|"),"gi"),t=format.match(e),i=0;i<t.length;i++)"MM"==t[i].toUpperCase()&&(t[i-1]&&t[i-1].toUpperCase().indexOf("H")>=0||t[i-2]&&t[i-2].toUpperCase().indexOf("H")>=0||t[i+1]&&t[i+1].toUpperCase().indexOf("S")>=0||t[i+2]&&t[i+2].toUpperCase().indexOf("S")>=0)&&(t[i]="mi");var o={tokens:t};if(value){var splitStr=-1!==(d=""+value).indexOf("T")?"T":" ",h=0,m=0,s=0;if((d=d.split(splitStr))[1]&&(m=(h=d[1].split(":"))[1]?h[1]:0,s=h[2]?h[2]:0,h=h[0]?h[0]:0),(d=d[0].split("-"))[0]&&d[1]&&d[2]&&d[0]>0&&d[1]>0&&d[1]<13&&d[2]>0&&d[2]<32){o.data=[d[0],d[1],d[2],h,m,s],o.value=[];var calendar=new Date(o.data[0],o.data[1]-1,o.data[2],o.data[3],o.data[4],o.data[5]),get=function(i){var t=this.tokens[i],s=t.toUpperCase(),v=null;"YYYY"===s?v=this.data[0]:"YYY"===s?v=this.data[0].substring(1,4):"YY"===s?v=this.data[0].substring(2,4):"Y"===s?v=this.data[0].substring(3,4):"MON"===t?v=helpers_date.months[calendar.getMonth()].substr(0,3).toUpperCase():"mon"===t?v=helpers_date.months[calendar.getMonth()].substr(0,3).toLowerCase():"MONTH"===t?v=helpers_date.months[calendar.getMonth()].toUpperCase():"month"===t?v=helpers_date.months[calendar.getMonth()].toLowerCase():"MMMMM"===s?v=helpers_date.months[calendar.getMonth()].substr(0,1):"MMMM"===s||"Month"===t?v=helpers_date.months[calendar.getMonth()]:"MMM"===s||"Mon"==t?v=helpers_date.months[calendar.getMonth()].substr(0,3):"MM"===s?v=helpers.two(this.data[1]):"M"===s?v=calendar.getMonth()+1:"DAY"===t?v=helpers_date.weekdays[calendar.getDay()].toUpperCase():"day"===t?v=helpers_date.weekdays[calendar.getDay()].toLowerCase():"DDDD"===s||"Day"==t?v=helpers_date.weekdays[calendar.getDay()]:"DDD"===s?v=helpers_date.weekdays[calendar.getDay()].substr(0,3):"DD"===s?v=helpers.two(this.data[2]):"D"===s?v=parseInt(this.data[2]):"Q"===s?v=Math.floor((calendar.getMonth()+3)/3):"HH24"===s||"HH"===s?((v=this.data[3])>12&&-1!==this.tokens.indexOf("am/pm")&&(v-=12),v=helpers.two(v)):"HH12"===s?v=this.data[3]>12?helpers.two(this.data[3]-12):helpers.two(this.data[3]):"H"===s?(v=this.data[3])>12&&-1!==this.tokens.indexOf("am/pm")&&(v-=12,v=helpers.two(v)):"MI"===s?v=helpers.two(this.data[4]):"SS"===s?v=helpers.two(this.data[5]):"MS"===s?v=calendar.getMilliseconds():"AM/PM"===s?v=this.data[3]>=12?"PM":"AM":"WD"===s&&(v=helpers_date.weekdays[calendar.getDay()]),this.value[i]=null===v?this.tokens[i]:v};for(i=0;i<o.tokens.length;i++)get.call(o,i);value=o.value.join("")}else value=""}return value},obj}();var calendar=function(){var Component=function(el,options){if(el.calendar)return el.calendar.setOptions(options,!0);var obj={type:"calendar",options:{},date:null,setOptions:function(options,reset){var defaults={type:"default",validRange:null,startingDay:null,format:"DD/MM/YYYY",readonly:!0,today:!1,time:!1,resetButton:!0,placeholder:"",months:helpers_date.monthsShort,monthsFull:helpers_date.months,weekdays:helpers_date.weekdays,textDone:dictionary.translate("Done"),textReset:dictionary.translate("Reset"),textUpdate:dictionary.translate("Update"),value:null,fullscreen:!1,opened:!1,onopen:null,onclose:null,onchange:null,onupdate:null,mode:null,position:null,dataType:null,controls:!0,autoSelect:!0};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);if(0==obj.options.resetButton?calendarReset.style.display="none":calendarReset.style.display="",obj.options.readonly?el.setAttribute("readonly","readonly"):el.removeAttribute("readonly"),obj.options.placeholder?el.setAttribute("placeholder",obj.options.placeholder):el.removeAttribute("placeholder"),helpers.isNumeric(obj.options.value)&&obj.options.value>0&&(obj.options.value=Component.numToDate(obj.options.value),obj.options.dataType="numeric"),calendarReset.innerHTML=obj.options.textReset,calendarConfirm.innerHTML=obj.options.textDone,calendarControlsUpdateButton.innerHTML=obj.options.textUpdate,el.setAttribute("data-mask",obj.options.format.toLowerCase()),!obj.options.value&&obj.options.today)var value=Component.now();else value=obj.options.value;return value&&(obj.options.value=null,obj.setValue(value)),obj},open:function(value){if(!calendar.classList.contains("jcalendar-focus")&&!calendar.classList.contains("jcalendar-inline")){if(Component.current=obj,Tracking(obj,!0),obj.getDays(),"year-month-picker"==obj.options.type&&obj.getMonths(),obj.options.time&&(calendarSelectHour.value=obj.date[3],calendarSelectMin.value=obj.date[4]),calendar.classList.add("jcalendar-focus"),helpers.getWindowWidth()<800||obj.options.fullscreen)calendar.classList.add("jcalendar-fullsize"),animation.slideBottom(calendarContent,1);else{calendar.classList.remove("jcalendar-fullsize");var rect=el.getBoundingClientRect(),rectContent=calendarContent.getBoundingClientRect();if(obj.options.position)calendarContainer.style.position="fixed",window.innerHeight<rect.bottom+rectContent.height?calendarContainer.style.top=rect.top-(rectContent.height+2)+"px":calendarContainer.style.top=rect.top+rect.height+2+"px",calendarContainer.style.left=rect.left+"px";else{if(window.innerHeight<rect.bottom+rectContent.height)(d=-1*(rect.height+rectContent.height+2))+rect.top<0&&(d=-1*(rect.top+rect.height)),calendarContainer.style.top=d+"px";else calendarContainer.style.top="2px";if(window.innerWidth<rect.left+rectContent.width){var d=window.innerWidth-(rect.left+rectContent.width+20);calendarContainer.style.left=d+"px"}else calendarContainer.style.left="0px"}}"function"==typeof obj.options.onopen&&obj.options.onopen(el)}},close:function(ignoreEvents,update){if(!0!==obj.options.autoSelect&&void 0===update&&(update=!1),calendar.classList.contains("jcalendar-focus")){if(!1!==update){var element=calendar.querySelector(".jcalendar-selected");if("string"==typeof update)var value=update;else if(!element||element.classList.contains("jcalendar-disabled"))value=obj.options.value;else value=obj.getValue();obj.setValue(value)}else if(obj.options.value){let value=obj.options.value;obj.options.value="",obj.setValue(value)}ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el),calendar.classList.remove("jcalendar-focus"),Tracking(obj,!1),Component.current=null}return obj.options.value},prev:function(){"years"==obj.options.mode?(obj.date[0]=obj.date[0]-12,obj.getYears()):"months"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])-1,obj.getMonths()):(obj.date[1]<2?(obj.date[0]=obj.date[0]-1,obj.date[1]=12):obj.date[1]=obj.date[1]-1,obj.getDays())},next:function(){"years"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])+12,obj.getYears()):"months"==obj.options.mode?(obj.date[0]=parseInt(obj.date[0])+1,obj.getMonths()):(obj.date[1]>11?(obj.date[0]=parseInt(obj.date[0])+1,obj.date[1]=1):obj.date[1]=parseInt(obj.date[1])+1,obj.getDays())},setToday:function(){var value=(new Date).toISOString().substr(0,10);return obj.setValue(value),value},setValue:function(val){val||(val=""+val);var newValue=val,oldValue=obj.options.value;if(oldValue!=newValue){if(newValue){obj.setLabel(newValue,obj.options);(date=newValue.split(" "))[1]||(date[1]="00:00:00");var time=date[1].split(":"),date=date[0].split("-"),y=parseInt(date[0]),m=parseInt(date[1]),d=parseInt(date[2]),h=parseInt(time[0]),i=parseInt(time[1]);obj.date=[y,m,d,h,i,0];val=obj.setLabel(newValue,obj.options);var current=Component.now(new Date(y,m-1,d),!0);if(obj.options.validRange){if(!obj.options.validRange[0]||current>=obj.options.validRange[0])var test1=!0;else test1=!1;if(!obj.options.validRange[1]||current<=obj.options.validRange[1])var test2=!0;else test2=!1;test1&&test2?(el.classList.remove("jcalendar_warning"),el.title=""):(el.classList.add("jcalendar_warning"),el.title=dictionary.translate("Date outside the valid range"))}else el.classList.remove("jcalendar_warning"),el.title=""}else{obj.date=null;var val="";el.classList.remove("jcalendar_warning"),el.title=""}obj.options.value=newValue,"function"==typeof obj.options.onchange&&obj.options.onchange(el,newValue,oldValue),el.value!=val&&(el.value=val,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))}obj.getDays(),"year-month-picker"==obj.options.type&&obj.getMonths()},getValue:function(){return obj.date?obj.options.time?helpers.two(obj.date[0])+"-"+helpers.two(obj.date[1])+"-"+helpers.two(obj.date[2])+" "+helpers.two(obj.date[3])+":"+helpers.two(obj.date[4])+":"+helpers.two(0):helpers.two(obj.date[0])+"-"+helpers.two(obj.date[1])+"-"+helpers.two(obj.date[2])+" "+helpers.two(0)+":"+helpers.two(0)+":"+helpers.two(0):""},update:function(element,v){if(element.classList.contains("jcalendar-disabled"));else{var elements=calendar.querySelector(".jcalendar-selected");elements&&elements.classList.remove("jcalendar-selected"),element.classList.add("jcalendar-selected"),element.classList.contains("jcalendar-set-month")?(obj.date[1]=v,obj.date[2]=1):obj.date[2]=element.innerText,obj.options.time?(obj.date[3]=calendarSelectHour.value,obj.date[4]=calendarSelectMin.value):obj.close(null,!0)}updateActions()},reset:function(){obj.setValue(""),obj.date=null,obj.close(!1,!1)},getDays:function(){obj.options.mode="days";var date=new Date,year=obj.date&&helpers.isNumeric(obj.date[0])?obj.date[0]:parseInt(date.getFullYear()),month=obj.date&&helpers.isNumeric(obj.date[1])?obj.date[1]:parseInt(date.getMonth())+1,day=obj.date&&helpers.isNumeric(obj.date[2])?obj.date[2]:parseInt(date.getDate()),hour=obj.date&&helpers.isNumeric(obj.date[3])?obj.date[3]:parseInt(date.getHours()),min=obj.date&&helpers.isNumeric(obj.date[4])?obj.date[4]:parseInt(date.getMinutes());obj.date=[year,month,day,hour,min,0],calendarLabelYear.innerHTML=year,calendarLabelMonth.innerHTML=obj.options.months[month-1];var isCurrentMonthAndYear=date.getMonth()==month-1&&date.getFullYear()==year,currentDay=date.getDate(),numberOfDays=(date=new Date(year,month,0,0,0)).getDate(),firstDay=(date=new Date(year,month-1,0,0,0)).getDay()+1;firstDay-=index=obj.options.startingDay||0,calendarBody.innerHTML="",(row=document.createElement("tr")).setAttribute("align","center"),calendarBody.appendChild(row);for(var i=0;i<7;i++){(cell=document.createElement("td")).classList.add("jcalendar-weekday"),cell.innerHTML=obj.options.weekdays[index].substr(0,1),row.appendChild(cell),++index>6&&(index=0)}for(var index=0,d=0,j=0;j<6;j++){var row;(row=document.createElement("tr")).setAttribute("align","center"),row.style.height="34px";for(i=0;i<7;i++){var cell;if((cell=document.createElement("td")).classList.add("jcalendar-set-day"),index>=firstDay&&index<firstDay+numberOfDays){d++,cell.innerHTML=d,d==day&&cell.classList.add("jcalendar-selected"),isCurrentMonthAndYear&&currentDay==d&&(cell.style.fontWeight="bold");var current=Component.now(new Date(year,month-1,d),!0);if(obj.options.validRange){if(!obj.options.validRange[0]||current>=obj.options.validRange[0])var test1=!0;else test1=!1;if(!obj.options.validRange[1]||current<=obj.options.validRange[1])var test2=!0;else test2=!1;test1&&test2||cell.classList.add("jcalendar-disabled")}}row.appendChild(cell),index++}calendarBody.appendChild(row)}obj.options.time?calendarControlsTime.style.display="":calendarControlsTime.style.display="none",updateActions()},getMonths:function(){obj.options.mode="months";var months=obj.options.months,date=(obj.options.value,new Date),currentYear=parseInt(date.getFullYear()),currentMonth=parseInt(date.getMonth())+1,selectedYear=obj.date&&helpers.isNumeric(obj.date[0])?obj.date[0]:currentYear,selectedMonth=obj.date&&helpers.isNumeric(obj.date[1])?obj.date[1]:currentMonth;calendarLabelYear.innerHTML=obj.date[0],calendarLabelMonth.innerHTML=months[selectedMonth-1];var table=document.createElement("table");table.setAttribute("width","100%");for(var row=null,i=0;i<12;i++){if(!(i%4))(row=document.createElement("tr")).setAttribute("align","center"),table.appendChild(row);var cell=document.createElement("td");if(cell.classList.add("jcalendar-set-month"),cell.setAttribute("data-value",i+1),cell.innerText=months[i],obj.options.validRange){var current=selectedYear+"-"+helpers.two(i+1);if(!obj.options.validRange[0]||current>=obj.options.validRange[0].substr(0,7))var test1=!0;else test1=!1;if(!obj.options.validRange[1]||current<=obj.options.validRange[1].substr(0,7))var test2=!0;else test2=!1;test1&&test2||cell.classList.add("jcalendar-disabled")}i+1==selectedMonth&&cell.classList.add("jcalendar-selected"),currentYear==selectedYear&&i+1==currentMonth&&(cell.style.fontWeight="bold"),row.appendChild(cell)}calendarBody.innerHTML='<tr><td colspan="7"></td></tr>',calendarBody.children[0].children[0].appendChild(table),updateActions()},getYears:function(){obj.options.mode="years";for(var date=new Date,currentYear=date.getFullYear(),selectedYear=obj.date&&helpers.isNumeric(obj.date[0])?obj.date[0]:parseInt(date.getFullYear()),y=[],i=0;i<25;i++)y[i]=parseInt(obj.date[0])+(i-12);var table=document.createElement("table");table.setAttribute("width","100%");for(i=0;i<25;i++){if(!(i%5)){var row=document.createElement("tr");row.setAttribute("align","center"),table.appendChild(row)}var cell=document.createElement("td");cell.classList.add("jcalendar-set-year"),cell.innerText=y[i],selectedYear==y[i]&&cell.classList.add("jcalendar-selected"),currentYear==y[i]&&(cell.style.fontWeight="bold"),row.appendChild(cell)}calendarBody.innerHTML='<tr><td colspan="7"></td></tr>',calendarBody.firstChild.firstChild.appendChild(table),updateActions()},setLabel:function(value,mixed){return Component.getDateString(value,mixed)},fromFormatted:function(value,format){return Component.extractDateFromString(value,format)}},mouseUpControls=function(e){if(helpers.findElement(e.target,"jcalendar-container")){var action=e.target.className;if("jcalendar-prev"==action)obj.prev();else if("jcalendar-next"==action)obj.next();else if("jcalendar-month"==action)obj.getMonths();else if("jcalendar-year"==action)obj.getYears();else if("jcalendar-set-year"==action)obj.date[0]=e.target.innerText,"year-month-picker"==obj.options.type?obj.getMonths():obj.getDays();else if(e.target.classList.contains("jcalendar-set-month")){var month=parseInt(e.target.getAttribute("data-value"));"year-month-picker"==obj.options.type?obj.update(e.target,month):(obj.date[1]=month,obj.getDays())}else"jcalendar-confirm"==action||"jcalendar-update"==action||"jcalendar-close"==action?obj.close(null,!0):"jcalendar-backdrop"==action?obj.close(!1,!1):"jcalendar-reset"==action?obj.reset():e.target.classList.contains("jcalendar-set-day")&&e.target.innerText&&obj.update(e.target)}else obj.close(!1,!1)},keyUpControls=function(e){if(e.target.value&&e.target.value.length>3){var test=Component.extractDateFromString(e.target.value,obj.options.format);test&&obj.setValue(test)}},updateActions=function(){var currentDay=calendar.querySelector(".jcalendar-selected");currentDay&&currentDay.classList.contains("jcalendar-disabled")?(calendarControlsUpdateButton.setAttribute("disabled","disabled"),calendarSelectHour.setAttribute("disabled","disabled"),calendarSelectMin.setAttribute("disabled","disabled")):(calendarControlsUpdateButton.removeAttribute("disabled"),calendarSelectHour.removeAttribute("disabled"),calendarSelectMin.removeAttribute("disabled")),"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())},calendar=null,calendarReset=null,calendarConfirm=null,calendarContainer=null,calendarContent=null,calendarLabelYear=null,calendarLabelMonth=null,calendarTable=null,calendarBody=null,calendarControls=null,calendarControlsTime=null,calendarControlsUpdate=null,calendarControlsUpdateButton=null,calendarSelectHour=null,calendarSelectMin=null;return function(){"INPUT"==el.tagName&&el.value&&(options.value=el.value),(calendarReset=document.createElement("div")).className="jcalendar-reset",(calendarConfirm=document.createElement("div")).className="jcalendar-confirm",(calendarControls=document.createElement("div")).className="jcalendar-controls",calendarControls.style.borderBottom="1px solid #ddd",calendarControls.appendChild(calendarReset),calendarControls.appendChild(calendarConfirm),(calendarContainer=document.createElement("div")).className="jcalendar-container",(calendarContent=document.createElement("div")).className="jcalendar-content",calendarContainer.appendChild(calendarContent),"DIV"==el.tagName?(calendar=el).classList.add("jcalendar-inline"):(calendarContent.appendChild(calendarControls),(calendar=document.createElement("div")).className="jcalendar"),calendar.classList.add("jcalendar-container"),calendar.appendChild(calendarContainer);var calendarTableContainer=document.createElement("div");calendarTableContainer.className="jcalendar-table",calendarContent.appendChild(calendarTableContainer);var calendarHeaderPrev=document.createElement("td");calendarHeaderPrev.setAttribute("colspan","2"),calendarHeaderPrev.className="jcalendar-prev",(calendarLabelYear=document.createElement("span")).className="jcalendar-year",(calendarLabelMonth=document.createElement("span")).className="jcalendar-month";var calendarHeaderTitle=document.createElement("td");calendarHeaderTitle.className="jcalendar-header",calendarHeaderTitle.setAttribute("colspan","3"),calendarHeaderTitle.appendChild(calendarLabelMonth),calendarHeaderTitle.appendChild(calendarLabelYear);var calendarHeaderNext=document.createElement("td");calendarHeaderNext.setAttribute("colspan","2"),calendarHeaderNext.className="jcalendar-next";var calendarHeader=document.createElement("thead"),calendarHeaderRow=document.createElement("tr");calendarHeaderRow.appendChild(calendarHeaderPrev),calendarHeaderRow.appendChild(calendarHeaderTitle),calendarHeaderRow.appendChild(calendarHeaderNext),calendarHeader.appendChild(calendarHeaderRow),calendarTable=document.createElement("table"),calendarBody=document.createElement("tbody"),calendarTable.setAttribute("cellpadding","0"),calendarTable.setAttribute("cellspacing","0"),calendarTable.appendChild(calendarHeader),calendarTable.appendChild(calendarBody),calendarTableContainer.appendChild(calendarTable),(calendarSelectHour=document.createElement("select")).className="jcalendar-select",calendarSelectHour.onchange=function(){obj.date[3]=this.value,"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())};for(var i=0;i<24;i++){(element=document.createElement("option")).value=i,element.innerHTML=helpers.two(i),calendarSelectHour.appendChild(element)}(calendarSelectMin=document.createElement("select")).className="jcalendar-select",calendarSelectMin.onchange=function(){obj.date[4]=this.value,"function"==typeof obj.options.onupdate&&obj.options.onupdate(el,obj.getValue())};for(i=0;i<60;i++){var element;(element=document.createElement("option")).value=i,element.innerHTML=helpers.two(i),calendarSelectMin.appendChild(element)}var calendarControlsFooter=document.createElement("div");calendarControlsFooter.className="jcalendar-controls",(calendarControlsTime=document.createElement("div")).className="jcalendar-time",calendarControlsTime.style.maxWidth="140px",calendarControlsTime.appendChild(calendarSelectHour),calendarControlsTime.appendChild(calendarSelectMin),(calendarControlsUpdateButton=document.createElement("button")).setAttribute("type","button"),calendarControlsUpdateButton.className="jcalendar-update",(calendarControlsUpdate=document.createElement("div")).style.flexGrow="10",calendarControlsUpdate.appendChild(calendarControlsUpdateButton),calendarControlsFooter.appendChild(calendarControlsTime),"INPUT"==el.tagName&&calendarControlsFooter.appendChild(calendarControlsUpdate),calendarContent.appendChild(calendarControlsFooter);var calendarBackdrop=document.createElement("div");calendarBackdrop.className="jcalendar-backdrop",calendar.appendChild(calendarBackdrop),el.addEventListener("keyup",keyUpControls),calendar.addEventListener("swipeleft",(function(e){animation.slideLeft(calendarTable,0,(function(){obj.next(),animation.slideRight(calendarTable,1)})),e.preventDefault(),e.stopPropagation()})),calendar.addEventListener("swiperight",(function(e){animation.slideRight(calendarTable,0,(function(){obj.prev(),animation.slideLeft(calendarTable,1)})),e.preventDefault(),e.stopPropagation()})),"ontouchend"in document.documentElement==!0?(calendar.addEventListener("touchend",mouseUpControls),el.addEventListener("touchend",obj.open)):(calendar.addEventListener("mouseup",mouseUpControls),el.addEventListener("mouseup",obj.open)),Component.hasEvents||(Component.hasEvents=!0,document.addEventListener("keydown",Component.keydown)),obj.setOptions(options),"INPUT"==el.tagName?(el.parentNode.insertBefore(calendar,el.nextSibling),el.setAttribute("autocomplete","off"),el.classList.add("jcalendar-input"),el.value=obj.setLabel(obj.getValue(),obj.options)):(obj.getDays(),obj.options.time&&(calendarSelectHour.value=obj.date[3],calendarSelectMin.value=obj.date[4])),1==obj.options.opened&&obj.open(),0==obj.options.controls&&calendarContainer.classList.add("jcalendar-hide-controls"),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.calendar=calendar.calendar=obj}(),obj};return Component.keydown=function(e){var calendar=null;(calendar=Component.current)&&(13==e.which?calendar.close(!1,!0):27==e.which&&calendar.close(!1,!1))},Component.prettify=function(d,texts){if(!texts)texts={justNow:"Just now",xMinutesAgo:"{0}m ago",xHoursAgo:"{0}h ago",xDaysAgo:"{0}d ago",xWeeksAgo:"{0}w ago",xMonthsAgo:"{0} mon ago",xYearsAgo:"{0}y ago"};-1===d.indexOf("GMT")&&-1===d.indexOf("Z")&&(d+=" GMT");var d1=new Date,d2=new Date(d),total=parseInt((d1-d2)/1e3/60);if(String.prototype.format=function(o){return this.replace("{0}",o)},0==total)var text=texts.justNow;else if(total<90)text=texts.xMinutesAgo.format(total);else if(total<1440)text=texts.xHoursAgo.format(Math.round(total/60));else if(total<20160)text=texts.xDaysAgo.format(Math.round(total/1440));else if(total<43200)text=texts.xWeeksAgo.format(Math.round(total/10080));else if(total<1036800)text=texts.xMonthsAgo.format(Math.round(total/43200));else text=texts.xYearsAgo.format(Math.round(total/525600));return text},Component.prettifyAll=function(){for(var elements=document.querySelectorAll(".prettydate"),i=0;i<elements.length;i++)elements[i].getAttribute("data-date")?elements[i].innerHTML=Component.prettify(elements[i].getAttribute("data-date")):elements[i].innerHTML&&(elements[i].setAttribute("title",elements[i].innerHTML),elements[i].setAttribute("data-date",elements[i].innerHTML),elements[i].innerHTML=Component.prettify(elements[i].innerHTML))},Component.now=helpers_date.now,Component.toArray=helpers_date.toArray,Component.dateToNum=helpers_date.dateToNum,Component.numToDate=helpers_date.numToDate,Component.weekdays=helpers_date.weekdays,Component.months=helpers_date.months,Component.weekdaysShort=helpers_date.weekdaysShort,Component.monthsShort=helpers_date.monthsShort,Component.extractDateFromString=mask.extractDateFromString,Component.getDateString=mask.getDateString,Component}();var palette=function(){var palette={material:[["#ffebee","#fce4ec","#f3e5f5","#e8eaf6","#e3f2fd","#e0f7fa","#e0f2f1","#e8f5e9","#f1f8e9","#f9fbe7","#fffde7","#fff8e1","#fff3e0","#fbe9e7","#efebe9","#fafafa","#eceff1"],["#ffcdd2","#f8bbd0","#e1bee7","#c5cae9","#bbdefb","#b2ebf2","#b2dfdb","#c8e6c9","#dcedc8","#f0f4c3","#fff9c4","#ffecb3","#ffe0b2","#ffccbc","#d7ccc8","#f5f5f5","#cfd8dc"],["#ef9a9a","#f48fb1","#ce93d8","#9fa8da","#90caf9","#80deea","#80cbc4","#a5d6a7","#c5e1a5","#e6ee9c","#fff59d","#ffe082","#ffcc80","#ffab91","#bcaaa4","#eeeeee","#b0bec5"],["#e57373","#f06292","#ba68c8","#7986cb","#64b5f6","#4dd0e1","#4db6ac","#81c784","#aed581","#dce775","#fff176","#ffd54f","#ffb74d","#ff8a65","#a1887f","#e0e0e0","#90a4ae"],["#ef5350","#ec407a","#ab47bc","#5c6bc0","#42a5f5","#26c6da","#26a69a","#66bb6a","#9ccc65","#d4e157","#ffee58","#ffca28","#ffa726","#ff7043","#8d6e63","#bdbdbd","#78909c"],["#f44336","#e91e63","#9c27b0","#3f51b5","#2196f3","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"],["#e53935","#d81b60","#8e24aa","#3949ab","#1e88e5","#00acc1","#00897b","#43a047","#7cb342","#c0ca33","#fdd835","#ffb300","#fb8c00","#f4511e","#6d4c41","#757575","#546e7a"],["#d32f2f","#c2185b","#7b1fa2","#303f9f","#1976d2","#0097a7","#00796b","#388e3c","#689f38","#afb42b","#fbc02d","#ffa000","#f57c00","#e64a19","#5d4037","#616161","#455a64"],["#c62828","#ad1457","#6a1b9a","#283593","#1565c0","#00838f","#00695c","#2e7d32","#558b2f","#9e9d24","#f9a825","#ff8f00","#ef6c00","#d84315","#4e342e","#424242","#37474f"],["#b71c1c","#880e4f","#4a148c","#1a237e","#0d47a1","#006064","#004d40","#1b5e20","#33691e","#827717","#f57f17","#ff6f00","#e65100","#bf360c","#3e2723","#212121","#263238"]],fire:[["0b1a6d","840f38","b60718","de030b","ff0c0c","fd491c","fc7521","faa331","fbb535","ffc73a"],["071147","5f0b28","930513","be0309","ef0000","fa3403","fb670b","f9991b","faad1e","ffc123"],["03071e","370617","6a040f","9d0208","d00000","dc2f02","e85d04","f48c06","faa307","ffba08"],["020619","320615","61040d","8c0207","bc0000","c82a02","d05203","db7f06","e19405","efab00"],["020515","2d0513","58040c","7f0206","aa0000","b62602","b94903","c57205","ca8504","d89b00"]],baby:[["eddcd2","fff1e6","fde2e4","fad2e1","c5dedd","dbe7e4","f0efeb","d6e2e9","bcd4e6","99c1de"],["e1c4b3","ffd5b5","fab6ba","f5a8c4","aacecd","bfd5cf","dbd9d0","baceda","9dc0db","7eb1d5"],["daa990","ffb787","f88e95","f282a9","8fc4c3","a3c8be","cec9b3","9dbcce","82acd2","649dcb"],["d69070","ff9c5e","f66770","f05f8f","74bbb9","87bfae","c5b993","83aac3","699bca","4d89c2"],["c97d5d","f58443","eb4d57","e54a7b","66a9a7","78ae9c","b5a67e","7599b1","5c88b7","4978aa"]],chart:[["#C1D37F","#4C5454","#FFD275","#66586F","#D05D5B","#C96480","#95BF8F","#6EA240","#0F0F0E","#EB8258","#95A3B3","#995D81"]]},Component=function(o){return palette[o]?palette[o]:palette.material};return Component.get=function(o){return palette[o]?palette[o]:palette},Component.set=function(o,v){palette[o]=v},Component}();function Tabs(el,options){var obj={options:{}},defaults={data:[],position:null,allowCreate:!1,allowChangePosition:!1,onclick:null,onload:null,onchange:null,oncreate:null,ondelete:null,onbeforecreate:null,onchangeposition:null,animation:!1,hideHeaders:!1,padding:null,palette:null,maxWidth:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jtabs");var prev=null,next=null,border=null,setBorder=function(index){if(obj.options.animation){var rect=obj.headers.children[index].getBoundingClientRect();"modern"===obj.options.palette?(border.style.width=rect.width-4+"px",border.style.left=obj.headers.children[index].offsetLeft+2+"px"):(border.style.width=rect.width+"px",border.style.left=obj.headers.children[index].offsetLeft+"px"),"bottom"===obj.options.position?border.style.top="0px":border.style.bottom="0px"}},updateControls=function(x){"function"==typeof obj.headers.scrollTo?obj.headers.scrollTo({left:x,behavior:"smooth"}):obj.headers.scrollLeft=x,x<=1?prev.classList.add("disabled"):prev.classList.remove("disabled"),x>=obj.headers.scrollWidth-obj.headers.offsetWidth?next.classList.add("disabled"):next.classList.remove("disabled"),obj.headers.scrollWidth<=obj.headers.offsetWidth?(prev.style.display="none",next.style.display="none"):(prev.style.display="",next.style.display="")};if(obj.setBorder=setBorder,obj.open=function(index){for(var previous=null,i=0;i<obj.headers.children.length;i++)obj.headers.children[i].classList.contains("jtabs-selected")&&(previous=i),obj.headers.children[i].classList.remove("jtabs-selected"),obj.content.children[i]&&obj.content.children[i].classList.remove("jtabs-selected");if(obj.headers.children[index].classList.add("jtabs-selected"),obj.content.children[index]&&obj.content.children[index].classList.add("jtabs-selected"),previous!=index&&"function"==typeof obj.options.onchange&&obj.content.children[index]&&obj.options.onchange(el,obj,index,obj.headers.children[index],obj.content.children[index]),1==obj.options.hideHeaders&&obj.headers.children.length<3&&0==obj.options.allowCreate)obj.headers.parentNode.style.display="none";else{setBorder(index),obj.headers.parentNode.style.display="";var x1=obj.headers.children[index].offsetLeft,x2=x1+obj.headers.children[index].offsetWidth,r1=obj.headers.scrollLeft,r2=r1+obj.headers.offsetWidth;r1<=x1&&r2>=x2||updateControls(x1-1)}},obj.selectIndex=function(a){var index=Array.prototype.indexOf.call(obj.headers.children,a);return index>=0&&obj.open(index),index},obj.rename=function(i,title){title||(title=prompt("New title",obj.headers.children[i].innerText)),obj.headers.children[i].innerText=title,obj.open(i)},obj.create=function(title,url){if("function"==typeof obj.options.onbeforecreate){var ret=obj.options.onbeforecreate(el);if(!1===ret)return!1;title=ret}var div=obj.appendElement(title);return"function"==typeof obj.options.oncreate&&obj.options.oncreate(el,div),setBorder(),div},obj.remove=function(index){return obj.deleteElement(index)},obj.nextNumber=function(){for(var num=0,i=0;i<obj.headers.children.length;i++){var tmp=obj.headers.children[i].innerText.match(/[0-9].*/);tmp>num&&(num=parseInt(tmp))}return num?num++:num=1,num},obj.deleteElement=function(index){if(!obj.headers.children[index])return!1;obj.headers.removeChild(obj.headers.children[index]),obj.content.removeChild(obj.content.children[index]),obj.open(0),"function"==typeof obj.options.ondelete&&obj.options.ondelete(el,index)},obj.appendElement=function(title,cb,openTab){if(!title)title=prompt("Title?","");if(title){var div=document.createElement("div");obj.content.appendChild(div);var h=document.createElement("div");return h.innerHTML=title,h.content=div,obj.headers.insertBefore(h,obj.headers.lastChild),obj.options.allowChangePosition&&h.setAttribute("draggable","true"),!1!==openTab&&obj.selectIndex(h),"function"==typeof cb&&cb(div,h),div}},obj.getActive=function(){for(var i=0;i<obj.headers.children.length;i++)if(obj.headers.children[i].classList.contains("jtabs-selected"))return i;return 0},obj.updateContent=function(position,newContent){"string"!=typeof newContent||(document.createElement("div").innerHTML=newContent);obj.content.children[position].classList.contains("jtabs-selected")&&newContent.classList.add("jtabs-selected"),obj.content.replaceChild(newContent,obj.content.children[position]),setBorder()},obj.updatePosition=function(f,t,ignoreEvents){f>t?obj.content.insertBefore(obj.content.children[f],obj.content.children[t]):obj.content.insertBefore(obj.content.children[f],obj.content.children[t].nextSibling),obj.open(t),ignoreEvents||"function"!=typeof obj.options.onchangeposition||obj.options.onchangeposition(obj.headers,f,t)},obj.move=function(f,t,ignoreEvents){f>t?obj.headers.insertBefore(obj.headers.children[f],obj.headers.children[t]):obj.headers.insertBefore(obj.headers.children[f],obj.headers.children[t].nextSibling),obj.updatePosition(f,t,ignoreEvents)},obj.setBorder=setBorder,obj.init=function(){el.innerHTML="",obj.headers=document.createElement("div"),obj.content=document.createElement("div"),obj.headers.classList.add("jtabs-headers"),obj.content.classList.add("jtabs-content"),obj.options.palette?el.classList.add("jtabs-modern"):el.classList.remove("jtabs-modern"),obj.options.padding&&(obj.content.style.padding=parseInt(obj.options.padding)+"px");var header=document.createElement("div");header.className="jtabs-headers-container",header.appendChild(obj.headers),obj.options.maxWidth&&(header.style.maxWidth=parseInt(obj.options.maxWidth)+"px");var controls=document.createElement("div");if(controls.className="jtabs-controls",controls.setAttribute("draggable","false"),header.appendChild(controls),"bottom"==obj.options.position?(el.appendChild(obj.content),el.appendChild(header)):(el.appendChild(header),el.appendChild(obj.content)),1==obj.options.allowCreate){var add=document.createElement("div");add.className="jtabs-add",add.onclick=function(){obj.create()},controls.appendChild(add)}(prev=document.createElement("div")).className="jtabs-prev",prev.onclick=function(){updateControls(obj.headers.scrollLeft-obj.headers.offsetWidth)},controls.appendChild(prev),(next=document.createElement("div")).className="jtabs-next",next.onclick=function(){updateControls(obj.headers.scrollLeft+obj.headers.offsetWidth)},controls.appendChild(next);for(var i=0;i<obj.options.data.length;i++){if(obj.options.data[i].titleElement)var headerItem=obj.options.data[i].titleElement;else headerItem=document.createElement("div");if(obj.options.data[i].icon){var iconContainer=document.createElement("div"),icon=document.createElement("i");icon.classList.add("material-icons"),icon.innerHTML=obj.options.data[i].icon,iconContainer.appendChild(icon),headerItem.appendChild(iconContainer)}if(obj.options.data[i].title){var title=document.createTextNode(obj.options.data[i].title);headerItem.appendChild(title)}if(obj.options.data[i].width&&(headerItem.style.width=obj.options.data[i].width),obj.options.data[i].contentElement)var contentItem=obj.options.data[i].contentElement;else(contentItem=document.createElement("div")).innerHTML=obj.options.data[i].content;obj.headers.appendChild(headerItem),obj.content.appendChild(contentItem)}(border=document.createElement("div")).className="jtabs-border",obj.headers.appendChild(border),obj.options.animation&&el.classList.add("jtabs-animation"),obj.headers.addEventListener("click",(function(e){if(e.target.parentNode.classList.contains("jtabs-headers"))var target=e.target;else if("I"==e.target.tagName)target=e.target.parentNode.parentNode;else target=e.target.parentNode;var index=obj.selectIndex(target);"function"==typeof obj.options.onclick&&obj.options.onclick(el,obj,index,obj.headers.children[index],obj.content.children[index])})),obj.headers.addEventListener("contextmenu",(function(e){obj.selectIndex(e.target)})),obj.headers.children.length&&obj.open(0),updateControls(0),1==obj.options.allowChangePosition&&Sorting(obj.headers,{direction:1,ondrop:function(a,b,c){obj.updatePosition(b,c)}}),"function"==typeof obj.options.onload&&obj.options.onload(el,obj)},el.children[0]&&el.children[0].children.length)for(var i=0;i<el.children[0].children.length;i++){var item=obj.options.data&&obj.options.data[i]?obj.options.data[i]:{};el.children[1]&&el.children[1].children[i]?(item.titleElement=el.children[0].children[i],item.contentElement=el.children[1].children[i]):item.contentElement=el.children[0].children[i],obj.options.data[i]=item}var loadingRemoteData=!1;if(obj.options.data)for(i=0;i<obj.options.data.length;i++)obj.options.data[i].url&&(ajax({url:obj.options.data[i].url,type:"GET",dataType:"text/html",index:i,success:function(result){obj.options.data[this.index].content=result},complete:function(){obj.init()}}),loadingRemoteData=!0);return loadingRemoteData||obj.init(),el.tabs=obj,obj}function Color(el,options){if(el.color)return el.color.setOptions(options,!0);var obj={type:"color",options:{}},container=null,backdrop=null,content=null,resetButton=null,closeButton=null,tabs=null,jsuitesTabs=null;obj.setOptions=function(options,reset){var defaults={placeholder:"",value:null,onopen:null,onclose:null,onchange:null,closeOnChange:!0,palette:null,position:null,doneLabel:"Done",resetLabel:"Reset",fullscreen:!1,opened:!1};for(var property in options||(options={}),options&&!options.palette&&(options.palette=palette()),defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return resetButton&&(resetButton.innerHTML=obj.options.resetLabel),closeButton&&(closeButton.innerHTML=obj.options.doneLabel),obj.options.palette&&jsuitesTabs&&jsuitesTabs.updateContent(0,table()),"string"==typeof obj.options.value&&(el.value=obj.options.value,"INPUT"===el.tagName&&(el.style.color=el.value,el.style.backgroundColor=el.value)),obj.options.placeholder?el.setAttribute("placeholder",obj.options.placeholder):el.getAttribute("placeholder")&&el.removeAttribute("placeholder"),obj},obj.select=function(color){var selected=container.querySelector(".jcolor-selected");selected&&selected.classList.remove("jcolor-selected"),obj.values[color]&&obj.values[color].classList.add("jcolor-selected"),obj.options.value=color},obj.open=function(){if(!container.classList.contains("jcolor-focus")){Tracking(obj,!0),container.classList.add("jcolor-focus"),obj.options.value&&obj.select(obj.options.value),content.style.marginTop="",content.style.marginLeft="";var rectContent=content.getBoundingClientRect(),availableWidth=helpers.getWindowWidth(),availableHeight=helpers.getWindowHeight();if(availableWidth<800||1==obj.options.fullscreen?(content.classList.add("jcolor-fullscreen"),animation.slideBottom(content,1),backdrop.style.display="block"):(content.classList.contains("jcolor-fullscreen")&&(content.classList.remove("jcolor-fullscreen"),backdrop.style.display=""),obj.options.position?content.style.position="fixed":content.style.position="",rectContent.left+rectContent.width>availableWidth&&(content.style.marginLeft=-1*(rectContent.left+rectContent.width-(availableWidth-20))+"px"),rectContent.top+rectContent.height>availableHeight&&(content.style.marginTop=-1*(rectContent.top+rectContent.height-(availableHeight-20))+"px")),"function"==typeof obj.options.onopen&&obj.options.onopen(el,obj),jsuitesTabs.setBorder(jsuitesTabs.getActive()),obj.options.value){var rgb=HexToRgb(obj.options.value);rgbInputs.forEach((function(rgbInput,index){rgbInput.value=rgb[index],rgbInput.dispatchEvent(new Event("input"))}))}}},obj.close=function(ignoreEvents){return container.classList.contains("jcolor-focus")&&(container.classList.remove("jcolor-focus"),backdrop.style.display="",ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el,obj),Tracking(obj,!1)),obj.options.value},obj.setValue=function(color){color||(color=""),color!=obj.options.value&&(obj.options.value=color,slidersResult=color,obj.select(color),"function"==typeof obj.options.onchange&&obj.options.onchange(el,color,obj),el.value!=obj.options.value&&(el.value=obj.options.value,"INPUT"===el.tagName&&(el.style.color=el.value,el.style.backgroundColor=el.value),"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),1==obj.options.closeOnChange&&obj.close())},obj.getValue=function(){return obj.options.value};var decToHex=function(num){var hex=num.toString(16);return 1===hex.length?"0"+hex:hex},rgbToHex=function(r,g,b){return"#"+decToHex(r)+decToHex(g)+decToHex(b)},hexToDec=function(hex){return parseInt("0x"+hex)},HexToRgb=function(hex){return[hexToDec(hex.substr(1,2)),hexToDec(hex.substr(3,2)),hexToDec(hex.substr(5,2))]},table=function(){var tableContainer=document.createElement("div");tableContainer.className="jcolor-grid",obj.values=[];var t=document.createElement("table");t.setAttribute("cellpadding","7"),t.setAttribute("cellspacing","0");for(var j=0;j<obj.options.palette.length;j++){for(var tr=document.createElement("tr"),i=0;i<obj.options.palette[j].length;i++){var td=document.createElement("td"),color=obj.options.palette[j][i];color.length<7&&"#"!==color.substr(0,1)&&(color="#"+color),td.style.backgroundColor=color,td.setAttribute("data-value",color),td.innerHTML="",tr.appendChild(td),obj.options.value==color&&td.classList.add("jcolor-selected"),obj.values[color]=td}t.appendChild(tr)}return tableContainer.appendChild(t),tableContainer},canvas=document.createElement("canvas");canvas.width=200,canvas.height=160;var context=canvas.getContext("2d"),resizeCanvas=function(){var m=tabs.firstChild.getBoundingClientRect();canvas.width=m.width-14,gradient()},gradient=function(){var g=context.createLinearGradient(0,0,canvas.width,0);g.addColorStop(0,"rgb(255,0,0)"),g.addColorStop(.15,"rgb(255,0,255)"),g.addColorStop(.33,"rgb(0,0,255)"),g.addColorStop(.49,"rgb(0,255,255)"),g.addColorStop(.67,"rgb(0,255,0)"),g.addColorStop(.84,"rgb(255,255,0)"),g.addColorStop(1,"rgb(255,0,0)"),context.fillStyle=g,context.fillRect(0,0,canvas.width,canvas.height),(g=context.createLinearGradient(0,0,0,canvas.height)).addColorStop(0,"rgba(255,255,255,1)"),g.addColorStop(.5,"rgba(255,255,255,0)"),g.addColorStop(.5,"rgba(0,0,0,0)"),g.addColorStop(1,"rgba(0,0,0,1)"),context.fillStyle=g,context.fillRect(0,0,canvas.width,canvas.height)},hsl=function(){var element=document.createElement("div");element.className="jcolor-hsl";var point=document.createElement("div");point.className="jcolor-point";var div=document.createElement("div");div.appendChild(canvas),div.appendChild(point),element.appendChild(div);var update=function(buttons,x,y){if(1===buttons){var rect=element.getBoundingClientRect(),left=x-rect.left,top=y-rect.top;left<0&&(left=0),top<0&&(top=0),left>rect.width&&(left=rect.width),top>rect.height&&(top=rect.height),point.style.left=left+"px",point.style.top=top+"px";var pixel=context.getImageData(left,top,1,1).data;slidersResult=rgbToHex(pixel[0],pixel[1],pixel[2])}};return element.addEventListener("mousedown",(function(e){update(e.buttons,e.clientX,e.clientY)})),element.addEventListener("mousemove",(function(e){update(e.buttons,e.clientX,e.clientY)})),element.addEventListener("touchmove",(function(e){update(1,e.changedTouches[0].clientX,e.changedTouches[0].clientY)})),element},slidersResult="",rgbInputs=[],sliders=function(){var slidersElement=document.createElement("div");slidersElement.className="jcolor-sliders";var slidersBody=document.createElement("div"),createSliderInput=function(name){var inputContainer=document.createElement("div");inputContainer.className="jcolor-sliders-input-container";var label=document.createElement("label");label.innerText=name;var subContainer=document.createElement("div");subContainer.className="jcolor-sliders-input-subcontainer";var input=document.createElement("input");input.type="range",input.min=0,input.max=255,input.value=0,inputContainer.appendChild(label),subContainer.appendChild(input);var value=document.createElement("div");return value.innerText=input.value,input.addEventListener("input",(function(){value.innerText=input.value})),subContainer.appendChild(value),inputContainer.appendChild(subContainer),slidersBody.appendChild(inputContainer),input};rgbInputs=[createSliderInput("Red"),createSliderInput("Green"),createSliderInput("Blue")],slidersElement.appendChild(slidersBody);var slidersResultColor=document.createElement("div");slidersResultColor.className="jcolor-sliders-final-color";var resultElement=document.createElement("div");resultElement.style.visibility="hidden",resultElement.innerText="a",slidersResultColor.appendChild(resultElement);return rgbInputs.forEach((function(rgbInput){rgbInput.addEventListener("input",(function(){var resultColor;resultColor=rgbToHex(parseInt(rgbInputs[0].value),parseInt(rgbInputs[1].value),parseInt(rgbInputs[2].value)),resultElement.innerText=resultColor,resultElement.style.color=resultColor,resultElement.style.removeProperty("visibility"),slidersResult=resultColor,function(){if(""!==slidersResult)for(var j=0;j<rgbInputs.length;j++){var currentColor=HexToRgb(slidersResult);currentColor[j]=0;var newGradient="linear-gradient(90deg, rgb(";newGradient+=currentColor.join(", "),newGradient+="), rgb(",currentColor[j]=255,newGradient+=currentColor.join(", "),newGradient+="))",rgbInputs[j].style.backgroundImage=newGradient}}()}))})),slidersElement.appendChild(slidersResultColor),slidersElement};return obj.toHex=function(rgb){var hex=function(x){return("0"+parseInt(x).toString(16)).slice(-2)};if(rgb)return/^#[0-9A-F]{6}$/i.test(rgb)?rgb:(rgb=rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))&&rgb.length?"#"+hex(rgb[1])+hex(rgb[2])+hex(rgb[3]):""},function(){obj.setOptions(options),"INPUT"==el.tagName&&(el.classList.add("jcolor-input"),el.readOnly=!0),(container=document.createElement("div")).className="jcolor",(backdrop=document.createElement("div")).className="jcolor-backdrop",container.appendChild(backdrop),(content=document.createElement("div")).className="jcolor-content";var controls=document.createElement("div");controls.className="jcolor-controls",content.appendChild(controls),(resetButton=document.createElement("div")).className="jcolor-reset",resetButton.innerHTML=obj.options.resetLabel,controls.appendChild(resetButton),(closeButton=document.createElement("div")).className="jcolor-close",closeButton.innerHTML=obj.options.doneLabel,controls.appendChild(closeButton),tabs=document.createElement("div"),content.appendChild(tabs),jsuitesTabs=Tabs(tabs,{animation:!0,data:[{title:"Grid",contentElement:table()},{title:"Spectrum",contentElement:hsl()},{title:"Sliders",contentElement:sliders()}],onchange:function(element,instance,index){if(1===index)resizeCanvas();else{var color=""!==slidersResult?slidersResult:obj.getValue();if(2===index&&color){var rgb=HexToRgb(color);rgbInputs.forEach((function(rgbInput,index){rgbInput.value=rgb[index],rgbInput.dispatchEvent(new Event("input"))}))}}},palette:"modern"}),container.appendChild(content),"INPUT"==el.tagName?el.parentNode.insertBefore(container,el.nextSibling):el.appendChild(container),container.addEventListener("click",(function(e){if("TD"==e.target.tagName){var value=e.target.getAttribute("data-value");value&&obj.setValue(value)}else e.target.classList.contains("jcolor-reset")?(obj.setValue(""),obj.close()):e.target.classList.contains("jcolor-close")?(jsuitesTabs.getActive()>0&&obj.setValue(slidersResult),obj.close()):e.target.classList.contains("jcolor-backdrop")?obj.close():obj.open()})),el.addEventListener("mouseup",(function(e){obj.open()})),window.addEventListener("resize",(function(){container.classList.contains("jcolor-focus")&&1==jsuitesTabs.getActive()&&resizeCanvas()})),1==obj.options.opened&&obj.open(),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.color=obj,container.color=obj}(),obj}var contextmenu=function(){var Component=function(el,options){var obj={type:"contextmenu",options:{}},defaults={items:null,onclick:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];function createItemElement(item){if(!item.type||"line"!=item.type&&"divisor"!=item.type){itemContainer=document.createElement("div");var itemText=document.createElement("a");if(itemText.innerHTML=item.title,item.tooltip&&itemContainer.setAttribute("title",item.tooltip),item.icon&&itemContainer.setAttribute("data-icon",item.icon),item.id&&(itemContainer.id=item.id),item.disabled?itemContainer.className="jcontextmenu-disabled":item.onclick&&(itemContainer.method=item.onclick,itemContainer.addEventListener("mousedown",(function(e){e.preventDefault()})),itemContainer.addEventListener("mouseup",(function(e){this.method(this,e)}))),itemContainer.appendChild(itemText),item.submenu){var itemIconSubmenu=document.createElement("span");itemIconSubmenu.innerHTML="&#9658;",itemContainer.appendChild(itemIconSubmenu),itemContainer.classList.add("jcontexthassubmenu");var el_submenu=document.createElement("div");el_submenu.classList.add("jcontextmenu"),el_submenu.setAttribute("tabindex","900");for(var submenu=item.submenu,i=0;i<submenu.length;i++){var itemContainerSubMenu=createItemElement(submenu[i]);el_submenu.appendChild(itemContainerSubMenu)}itemContainer.appendChild(el_submenu)}else if(item.shortcut){var itemShortCut=document.createElement("span");itemShortCut.innerHTML=item.shortcut,itemContainer.appendChild(itemShortCut)}}else var itemContainer=document.createElement("hr");return itemContainer}return el.classList.add("jcontextmenu"),obj.open=function(e,items){if(items&&(obj.options.items=items,obj.create(items)),Component.current&&Component.current.close(),Tracking(obj,!0),el.classList.add("jcontextmenu-focus"),Component.current=obj,obj.options.items&&obj.options.items.length>0||el.children.length){if(e.target)if(e.changedTouches&&e.changedTouches[0])x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else var x=e.clientX,y=e.clientY;else x=e.x,y=e.y;var rect=el.getBoundingClientRect();if(window.innerHeight<y+rect.height){var h=y-rect.height;h<0&&(h=0),el.style.top=h+"px"}else el.style.top=y+"px";window.innerWidth<x+rect.width?x-rect.width>0?el.style.left=x-rect.width+"px":el.style.left="10px":el.style.left=x+"px"}},obj.isOpened=function(){return!!el.classList.contains("jcontextmenu-focus")},obj.close=function(){el.classList.contains("jcontextmenu-focus")&&el.classList.remove("jcontextmenu-focus"),Tracking(obj,!1)},obj.create=function(items){el.innerHTML="";var itemHeader=function(){var header=document.createElement("div");header.classList.add("header"),header.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}));var title=document.createElement("a");title.classList.add("title"),title.innerHTML=dictionary.translate("Menu"),header.appendChild(title);var closeButton=document.createElement("a");return closeButton.classList.add("close"),closeButton.innerHTML=dictionary.translate("close"),closeButton.addEventListener("click",(function(e){obj.close()})),header.appendChild(closeButton),header}();el.appendChild(itemHeader);for(var i=0;i<items.length;i++){var itemContainer=createItemElement(items[i]);el.appendChild(itemContainer)}},"function"==typeof obj.options.onclick&&el.addEventListener("click",(function(e){obj.options.onclick(obj,e)})),obj.options.items&&obj.create(obj.options.items),window.addEventListener("mousewheel",(function(){obj.close()})),el.contextmenu=obj,obj};return Component}();var dropdown=function(){var Component=function(el,options){if(el.dropdown)return el.dropdown.setOptions(options,!0);var obj={type:"dropdown",options:{}},success=function(data,val){data&&data.length&&(!1!==obj.options.sortResults&&("function"==typeof obj.options.sortResults?data.sort(obj.options.sortResults):data.sort(sortData)),obj.setData(data)),"function"==typeof obj.options.onload&&obj.options.onload(el,obj,data,val),val&&applyValue(val),null==val&&(obj.options.value=""),el.value=obj.options.value,1==obj.options.opened&&obj.open()},sortData=function(itemA,itemB){var testA,testB;return"string"==typeof itemA?testA=itemA:itemA.text?testA=itemA.text:itemA.name&&(testA=itemA.name),"string"==typeof itemB?testB=itemB:itemB.text?testB=itemB.text:itemB.name&&(testB=itemB.name),"string"==typeof testA||"string"==typeof testB?("string"!=typeof testA&&(testA=""+testA),"string"!=typeof testB&&(testB=""+testB),testA.localeCompare(testB)):testA-testB},resetValue=function(){obj.value={};for(var i=0;i<obj.items.length;i++)1==obj.items[i].selected&&(obj.items[i].element&&obj.items[i].element.classList.remove("jdropdown-selected"),obj.items[i].selected=null);obj.options.value="",el.value=""},applyValue=function(values){if(resetValue(),null!==values)if(values){Array.isArray(values)||(values=(""+values).split(";"));for(var i=0;i<values.length;i++)obj.value[values[i]]=""}else void 0!==obj.value[""]&&(obj.value[""]="");for(i=0;i<obj.items.length;i++)void 0!==obj.value[Value(i)]&&(obj.items[i].element&&obj.items[i].element.classList.add("jdropdown-selected"),obj.items[i].selected=!0,obj.value[Value(i)]=Text(i));obj.options.value=Object.keys(obj.value).join(";"),obj.header.value=obj.getText()},Value=function(k,v){if(obj.options.format)property="id";else var property="value";return obj.items[k]?void 0!==v?obj.items[k].data[property]=v:obj.items[k].data[property]:""},Text=function(k,v){if(obj.options.format)property="name";else var property="text";return obj.items[k]?void 0!==v?obj.items[k].data[property]=v:obj.items[k].data[property]:""},getValue=function(){return Object.keys(obj.value)},getText=function(){for(var data=[],k=Object.keys(obj.value),i=0;i<k.length;i++)data.push(obj.value[k[i]]);return data};obj.setOptions=function(options,reset){options||(options={});var defaults={url:null,data:[],format:0,multiple:!1,autocomplete:!1,remoteSearch:!1,lazyLoading:!1,type:null,width:null,maxWidth:null,opened:!1,value:null,placeholder:"",newOptions:!1,position:!1,onchange:null,onload:null,onopen:null,onclose:null,onfocus:null,onblur:null,oninsert:null,onbeforeinsert:null,onsearch:null,onbeforesearch:null,sortResults:!1,autofocus:!1};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return 1!=obj.options.remoteSearch&&"searchbar"!==obj.options.type||(obj.options.autocomplete=!0),1==obj.options.newOptions?obj.header.classList.add("jdropdown-add"):obj.header.classList.remove("jdropdown-add"),1==obj.options.autocomplete?obj.header.removeAttribute("readonly"):obj.header.setAttribute("readonly","readonly"),obj.options.placeholder?obj.header.setAttribute("placeholder",obj.options.placeholder):obj.header.removeAttribute("placeholder"),el.classList.remove("jdropdown-searchbar"),el.classList.remove("jdropdown-picker"),el.classList.remove("jdropdown-list"),"searchbar"==obj.options.type?el.classList.add("jdropdown-searchbar"):"list"==obj.options.type?el.classList.add("jdropdown-list"):"picker"==obj.options.type?el.classList.add("jdropdown-picker"):helpers.getWindowWidth()<800?obj.options.autocomplete?(el.classList.add("jdropdown-searchbar"),obj.options.type="searchbar"):(el.classList.add("jdropdown-picker"),obj.options.type="picker"):(obj.options.width?(el.style.width=obj.options.width,el.style.minWidth=obj.options.width):(el.style.removeProperty("width"),el.style.removeProperty("min-width")),el.classList.add("jdropdown-default"),obj.options.type="default"),"searchbar"==obj.options.type?containerHeader.appendChild(closeButton):container.insertBefore(closeButton,container.firstChild),obj.options.url&&!options.data?ajax({url:obj.options.url,method:"GET",dataType:"json",success:function(data){data&&success(data,obj.options.value)}}):success(obj.options.data,obj.options.value),obj};var containerHeader=null,container=null,content=null,closeButton=null,resetButton=null,backdrop=null,keyTimer=null;obj.getUrl=function(){return obj.options.url},obj.setUrl=function(url,callback){obj.options.url=url,ajax({url:obj.options.url,method:"GET",dataType:"json",success:function(data){obj.setData(data),"function"==typeof callback&&callback(obj)}})},obj.setId=function(item,v){if(obj.options.format)property="id";else var property="value";"object"==typeof item?item[property]=v:obj.items[item].data[property]=v},obj.add=function(title,id){if(!title){var current=1==obj.options.autocomplete?obj.header.value:"";if(!(title=prompt(dictionary.translate("Add A New Option"),current)))return!1}if(id||(id=helpers.guid()),obj.options.format)item={id:id,name:title};else var item={value:id,text:title};if("function"==typeof obj.options.onbeforeinsert){var ret=obj.options.onbeforeinsert(obj,item);if(!1===ret)return!1;ret&&(item=ret)}obj.options.data.push(item);var newItem=obj.createItem(item);return content.appendChild(newItem.element),"function"==typeof obj.options.oninsert&&obj.options.oninsert(obj,item,newItem),"none"==content.style.display&&(content.style.display=""),obj.results&&obj.results.push(newItem),item},obj.createItem=function(data,group,groupName){obj.options.format?(data.id||void 0===data.value||(data.id=data.value),data.name||void 0===data.text||(data.name=data.text)):(data.value||void 0===data.id||(data.value=data.id),data.text||void 0===data.name||(data.text=data.name));var item={};if(item.element=document.createElement("div"),item.element.className="jdropdown-item",item.element.indexValue=obj.items.length,item.data=data,group&&(item.group=group),data.id&&item.element.setAttribute("id",data.id),1==data.disabled&&item.element.setAttribute("data-disabled",!0),data.tooltip&&item.element.setAttribute("title",data.tooltip),data.image){var image=document.createElement("img");image.className="jdropdown-image",image.src=data.image,data.title||image.classList.add("jdropdown-image-small"),item.element.appendChild(image)}else if(data.icon){var icon=document.createElement("span");icon.className="jdropdown-icon material-icons",icon.innerText=data.icon,data.title||icon.classList.add("jdropdown-icon-small"),data.color&&(icon.style.color=data.color),item.element.appendChild(icon)}else if(data.color){var color=document.createElement("div");color.className="jdropdown-color",color.style.backgroundColor=data.color,item.element.appendChild(color)}if(obj.options.format)text=data.name;else var text=data.text;var node=document.createElement("div");if(node.className="jdropdown-description",node.textContent=text||"&nbsp;",data.title){var title=document.createElement("div");title.className="jdropdown-title",title.innerText=data.title,node.appendChild(title)}if(obj.options.format)val=data.id;else var val=data.value;return obj.value[val]&&(item.element.classList.add("jdropdown-selected"),item.selected=!0),obj.items.push(item),item.element.appendChild(node),item},obj.appendData=function(data){if(data.length){for(var items=[],groups=[],i=0;i<data.length;i++)data[i].group?(groups[data[i].group]||(groups[data[i].group]=[]),groups[data[i].group].push(i)):items.push(i);var counter=0,groupNames=Object.keys(groups);if(groupNames.length>0)for(i=0;i<groupNames.length;i++){var group=document.createElement("div");group.className="jdropdown-group";var groupName=document.createElement("div");groupName.className="jdropdown-group-name",groupName.textContent=groupNames[i];var groupArrow=document.createElement("i");groupArrow.className="jdropdown-group-arrow jdropdown-group-arrow-down",groupName.appendChild(groupArrow);var groupContent=document.createElement("div");groupContent.className="jdropdown-group-items";for(var j=0;j<groups[groupNames[i]].length;j++){var item=obj.createItem(data[groups[groupNames[i]][j]],group,groupNames[i]);(0==obj.options.lazyLoading||counter<200)&&(groupContent.appendChild(item.element),counter++)}group.appendChild(groupName),group.appendChild(groupContent),obj.groups.push(group),groupContent.children.length>0&&content.appendChild(group)}if(items.length)for(i=0;i<items.length;i++){item=obj.createItem(data[items[i]]);(0==obj.options.lazyLoading||counter<200)&&(content.appendChild(item.element),counter++)}}},obj.setData=function(data){if(resetValue(),content.textContent="",obj.header.value="",obj.items=[],data&&data.length){for(var i=0;i<data.length;i++)"object"!=typeof data[i]&&(obj.options.format?data[i]={id:data[i],name:data[i]}:data[i]={value:data[i],text:data[i]});obj.appendData(data),obj.options.data=data}else obj.options.data=[];obj.close()},obj.getData=function(){return obj.options.data},obj.getPosition=function(val){for(var i=0;i<obj.items.length;i++)if(Value(i)==val)return i;return!1},obj.getText=function(asArray){var v=getText();return asArray?v:v.join("; ")},obj.getValue=function(asArray){var v=getValue();return asArray?v:v.join(";")};var change=function(oldValue){el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,oldValue,obj.options.value)};obj.setValue=function(newValue){var oldValue=obj.getValue();Array.isArray(newValue)&&(newValue=newValue.join(";")),oldValue!==newValue&&(applyValue(newValue),change(oldValue))},obj.resetSelected=function(){obj.setValue(null)},obj.selectIndex=function(index,force){index=parseInt(index);if(obj.items&&obj.items[index]&&(!0===force||!0!==obj.items[index].data.disabled))if(obj.setCursor(index,!1),obj.options.multiple){var oldValue=obj.options.value;obj.items[index].selected?(obj.items[index].element.classList.remove("jdropdown-selected"),obj.items[index].selected=!1,delete obj.value[Value(index)]):(obj.items[index].element.classList.add("jdropdown-selected"),obj.items[index].selected=!0,obj.value[Value(index)]=Text(index)),obj.options.value=Object.keys(obj.value).join(";"),0==obj.options.autocomplete&&(obj.header.value=getText().join("; ")),change(oldValue)}else obj.items[index].selected?obj.setValue(null):obj.setValue(Value(index)),obj.close()},obj.selectItem=function(item){obj.selectIndex(item.indexValue)};var exists=function(k,result){for(var j=0;j<result.length;j++)if(obj.options.format){if(result[j].id==k)return!0}else if(result[j].value==k)return!0;return!1};return obj.find=function(str){if(obj.search==str.trim())return!1;if(obj.search=str,obj.setCursor(),obj.groups.length)for(var i=0;i<obj.groups.length;i++)obj.groups[i].lastChild.textContent="";if(content.textContent="",1==obj.options.remoteSearch){obj.results=null;let o={url:obj.options.url,method:"GET",data:{q:str},dataType:"json",success:function(result){obj.items=[];var current=Object.keys(obj.value);if(current.length)for(var i=0;i<current.length;i++)exists(current[i],result)||(obj.options.format?result.unshift({id:current[i],name:obj.value[current[i]]}):result.unshift({value:current[i],text:obj.value[current[i]]}));obj.appendData(result),result.length?content.style.display="":content.style.display="none","function"==typeof obj.options.onsearch&&obj.options.onsearch(obj,result)}};if("function"==typeof obj.options.onbeforesearch){let ret=obj.options.onbeforesearch(obj,o);if(!1===ret)return;"object"==typeof ret&&(o=ret)}ajax(o)}else{str=new RegExp(str,"gi");var results=[];for(i=0;i<obj.items.length;i++){var label=Text(i),title=obj.items[i].data.title||"",groupName=obj.items[i].data.group||"",synonym=obj.items[i].data.synonym||"";synonym&&(synonym=synonym.join(" ")),(null==str||1==obj.items[i].selected||label.match(str)||title.match(str)||groupName.match(str)||synonym.match(str))&&results.push(obj.items[i])}if(results.length){content.style.display="",obj.results=results;var number=results.length||0;1==obj.options.lazyLoading&&number>200&&(number=200);for(i=0;i<number;i++)obj.results[i].group?(obj.results[i].group.parentNode||content.appendChild(obj.results[i].group),obj.results[i].group.lastChild.appendChild(obj.results[i].element)):content.appendChild(obj.results[i].element)}else content.style.display="none",obj.results=null}1==obj.options.autofocus&&obj.first()},obj.open=function(){if(!el.classList.contains("jdropdown-focus")){Component.current=obj,Tracking(obj,!0),el.classList.add("jdropdown-focus"),helpers.getWindowWidth()<800&&(null!=obj.options.type&&"picker"!=obj.options.type||animation.slideBottom(container,1)),1==obj.options.autocomplete&&(obj.header.value=obj.search,obj.header.focus());var k=getValue();if(k[0]){var cursor=obj.getPosition(k[0]);!1!==cursor&&obj.setCursor(cursor)}if(!obj.options.type||"default"==obj.options.type){var rect=el.getBoundingClientRect(),rectContainer=container.getBoundingClientRect();obj.options.position?(container.style.position="fixed",window.innerHeight<rect.bottom+rectContainer.height?(container.style.top="",container.style.bottom=window.innerHeight-rect.top+1+"px"):(container.style.top=rect.bottom+"px",container.style.bottom=""),container.style.left=rect.left+"px"):window.innerHeight<rect.bottom+rectContainer.height?(container.style.top="",container.style.bottom=rect.height+1+"px"):(container.style.top="",container.style.bottom=""),container.style.minWidth=rect.width+"px",obj.options.maxWidth&&(container.style.maxWidth=obj.options.maxWidth),obj.items.length||1!=obj.options.autocomplete?content.style.display="":content.style.display="none"}}"function"==typeof obj.options.onopen&&obj.options.onopen(el)},obj.close=function(ignoreEvents){return el.classList.contains("jdropdown-focus")&&(obj.header.value=obj.getText(),obj.setCursor(),ignoreEvents||"function"!=typeof obj.options.onclose||obj.options.onclose(el),obj.header.blur&&obj.header.blur(),el.classList.remove("jdropdown-focus"),Tracking(obj,!1),Component.current=null),obj.getValue()},obj.setCursor=function(index,setPosition){if(null!=obj.currentIndex&&obj.items&&obj.items[obj.currentIndex]&&obj.items[obj.currentIndex].element.classList.remove("jdropdown-cursor"),null==index)obj.currentIndex=null;else if(index=parseInt(index),obj.items[index].element.parentNode&&(obj.items[index].element.classList.add("jdropdown-cursor"),obj.currentIndex=index,!1!==setPosition&&obj.items[obj.currentIndex].element)){content.scrollTop;var element=obj.items[obj.currentIndex].element;content.scrollTop=element.offsetTop-element.scrollTop+element.clientTop-95}},obj.resetCursor=obj.setCursor,obj.updateCursor=obj.setCursor,obj.reset=function(){obj.setCursor(),obj.setValue(null)},obj.first=function(){!0===obj.options.lazyLoading&&obj.loadFirst();var items=content.querySelectorAll(".jdropdown-item");if(items.length){var newIndex=items[0].indexValue;obj.setCursor(newIndex)}},obj.last=function(){!0===obj.options.lazyLoading&&obj.loadLast();var items=content.querySelectorAll(".jdropdown-item");if(items.length){var newIndex=items[items.length-1].indexValue;obj.setCursor(newIndex)}},obj.next=function(letter){var newIndex=null;if(letter){if(1==letter.length){var current=obj.currentIndex||-1;letter=letter.toLowerCase();var e=null,l=null,items=content.querySelectorAll(".jdropdown-item");if(items.length){for(var i=0;i<items.length;i++)if(items[i].indexValue>current&&(e=obj.items[items[i].indexValue])&&(l=e.element.innerText[0])&&letter==(l=l.toLowerCase())){newIndex=items[i].indexValue;break}obj.setCursor(newIndex)}}}else if(null==obj.currentIndex||null==obj.currentIndex)obj.first();else{var element=obj.items[obj.currentIndex].element,next=element.nextElementSibling;next?(next.classList.contains("jdropdown-group")&&(next=next.lastChild.firstChild),newIndex=next.indexValue):element.parentNode.classList.contains("jdropdown-group-items")&&((next=element.parentNode.parentNode.nextElementSibling)&&(next.classList.contains("jdropdown-group")?next=next.lastChild.firstChild:next.classList.contains("jdropdown-item")?newIndex=next.indexValue:next=null),next&&(newIndex=next.indexValue)),null!==newIndex&&obj.setCursor(newIndex)}},obj.prev=function(){var newIndex=null;if(null===obj.currentIndex)obj.first();else{var element=obj.items[obj.currentIndex].element,prev=element.previousElementSibling;prev?(prev.classList.contains("jdropdown-group")&&(prev=prev.lastChild.lastChild),newIndex=prev.indexValue):element.parentNode.classList.contains("jdropdown-group-items")&&((prev=element.parentNode.parentNode.previousElementSibling)&&(prev.classList.contains("jdropdown-group")?prev=prev.lastChild.lastChild:prev.classList.contains("jdropdown-item")?newIndex=prev.indexValue:prev=null),prev&&(newIndex=prev.indexValue))}null!==newIndex&&obj.setCursor(newIndex)},obj.loadFirst=function(){if(obj.results)var results=obj.results;else results=obj.items;var number=results.length||0;1==obj.options.lazyLoading&&number>200&&(number=200),content.textContent="";for(var i=0;i<number;i++)results[i].group?(results[i].group.parentNode||content.appendChild(results[i].group),results[i].group.lastChild.appendChild(results[i].element)):content.appendChild(results[i].element);content.scrollTop=0},obj.loadLast=function(){if(obj.results)var results=obj.results;else results=obj.items;var number=results.length;if(number>200){number-=200,content.textContent="";for(var i=number;i<results.length;i++)results[i].group?(results[i].group.parentNode||content.appendChild(results[i].group),results[i].group.lastChild.appendChild(results[i].element)):content.appendChild(results[i].element);content.scrollTop=content.scrollHeight}},obj.loadUp=function(){var test=!1;if(obj.results)var results=obj.results;else results=obj.items;var fistItem=content.querySelectorAll(".jdropdown-item")[0].indexValue;fistItem=obj.items[fistItem];var index=results.indexOf(fistItem)-1;if(index>0){for(var number=0;index>0&&results[index]&&number<200;)results[index].group?(results[index].group.parentNode||content.insertBefore(results[index].group,content.firstChild),results[index].group.lastChild.insertBefore(results[index].element,results[index].group.lastChild.firstChild)):content.insertBefore(results[index].element,content.firstChild),index--,number++;test=!0}return test},obj.loadDown=function(){var test=!1;if(obj.results)var results=obj.results;else results=obj.items;var items=content.querySelectorAll(".jdropdown-item"),lastItem=items[items.length-1].indexValue;lastItem=obj.items[lastItem];var index=results.indexOf(lastItem)+1;if(index<results.length){for(var number=0;index<results.length&&results[index]&&number<200;)results[index].group?(results[index].group.parentNode||content.appendChild(results[index].group),results[index].group.lastChild.appendChild(results[index].element)):content.appendChild(results[index].element),index++,number++;test=!0}return test},function(){if(options||(options={}),"SELECT"==el.tagName){var ret=Component.extractFromDom(el,options);el=ret.el,options=ret.options}!options.placeholder&&el.getAttribute("placeholder")&&(options.placeholder=el.getAttribute("placeholder")),obj.value={},obj.items=[],obj.groups=[],obj.search="",obj.results=null,el.classList.add("jdropdown"),(containerHeader=document.createElement("div")).className="jdropdown-container-header",obj.header=document.createElement("input"),obj.header.className="jdropdown-header jss_object",obj.header.type="text",obj.header.setAttribute("autocomplete","off"),obj.header.onfocus=function(){"function"==typeof obj.options.onfocus&&obj.options.onfocus(el)},obj.header.onblur=function(){"function"==typeof obj.options.onblur&&obj.options.onblur(el)},obj.header.onkeyup=function(e){1!=obj.options.autocomplete||keyTimer?obj.options.autocomplete||obj.next(e.key):(obj.search!=obj.header.value.trim()&&(keyTimer=setTimeout((function(){obj.find(obj.header.value.trim()),keyTimer=null}),400)),el.classList.contains("jdropdown-focus")||obj.open())},Component.hasEvents||(Component.hasEvents=!0,document.addEventListener("keydown",Component.keydown)),(container=document.createElement("div")).className="jdropdown-container",(content=document.createElement("div")).className="jdropdown-content",(closeButton=document.createElement("div")).className="jdropdown-close",closeButton.textContent="Done",(resetButton=document.createElement("div")).className="jdropdown-reset",resetButton.textContent="x",resetButton.onclick=function(){obj.reset(),obj.close()},(backdrop=document.createElement("div")).className="jdropdown-backdrop",containerHeader.appendChild(obj.header),container.appendChild(content),el.appendChild(containerHeader),el.appendChild(container),el.appendChild(backdrop),obj.setOptions(options),"ontouchsend"in document.documentElement==!0?el.addEventListener("touchsend",Component.mouseup):el.addEventListener("mouseup",Component.mouseup),1==obj.options.lazyLoading&&LazyLoading(content,{loadUp:obj.loadUp,loadDown:obj.loadDown}),content.onwheel=function(e){e.stopPropagation()},el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue(!!obj.options.multiple);obj.setValue(val)},el.dropdown=obj}(),obj};return Component.keydown=function(e){var dropdown=null;if(dropdown=Component.current)if(13==e.which||9==e.which)dropdown.header.value&&null==dropdown.currentIndex&&dropdown.options.newOptions?dropdown.add():(null==dropdown.currentIndex&&1==dropdown.options.autocomplete&&""!=dropdown.header.value&&dropdown.find(dropdown.header.value),dropdown.selectIndex(dropdown.currentIndex));else if(38==e.which)null==dropdown.currentIndex?dropdown.first():dropdown.currentIndex>0&&dropdown.prev(),e.preventDefault();else if(40==e.which)null==dropdown.currentIndex?dropdown.first():dropdown.currentIndex+1<dropdown.items.length&&dropdown.next(),e.preventDefault();else if(36==e.which)dropdown.first(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(35==e.which)dropdown.last(),e.target.classList.contains("jdropdown-header")||e.preventDefault();else if(27==e.which)dropdown.close();else if(33==e.which){if(null==dropdown.currentIndex)dropdown.first();else if(dropdown.currentIndex>0)for(var i=0;i<7;i++)dropdown.prev();e.preventDefault()}else if(34==e.which){if(null==dropdown.currentIndex)dropdown.first();else if(dropdown.currentIndex+1<dropdown.items.length)for(i=0;i<7;i++)dropdown.next();e.preventDefault()}},Component.mouseup=function(e){var element=helpers.findElement(e.target,"jdropdown");if(element){var dropdown=element.dropdown;if(e.target.classList.contains("jdropdown-header"))if(element.classList.contains("jdropdown-focus")&&element.classList.contains("jdropdown-default")){var rect=element.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var x=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else x=e.clientX,e.clientY;rect.width-(x-rect.left)<30?e.target.classList.contains("jdropdown-add")?dropdown.add():dropdown.close():0==dropdown.options.autocomplete&&dropdown.close()}else dropdown.open();else if(e.target.classList.contains("jdropdown-group-name")){var items=e.target.nextSibling.children;if("none"!=e.target.nextSibling.style.display)for(var i=0;i<items.length;i++)"none"!=items[i].style.display&&dropdown.selectItem(items[i])}else e.target.classList.contains("jdropdown-group-arrow")?e.target.classList.contains("jdropdown-group-arrow-down")?(e.target.classList.remove("jdropdown-group-arrow-down"),e.target.classList.add("jdropdown-group-arrow-up"),e.target.parentNode.nextSibling.style.display="none"):(e.target.classList.remove("jdropdown-group-arrow-up"),e.target.classList.add("jdropdown-group-arrow-down"),e.target.parentNode.nextSibling.style.display=""):e.target.classList.contains("jdropdown-item")?dropdown.selectItem(e.target):e.target.classList.contains("jdropdown-image")||e.target.classList.contains("jdropdown-description")?dropdown.selectItem(e.target.parentNode):e.target.classList.contains("jdropdown-title")?dropdown.selectItem(e.target.parentNode.parentNode):(e.target.classList.contains("jdropdown-close")||e.target.classList.contains("jdropdown-backdrop"))&&dropdown.close()}},Component.extractFromDom=function(el,options){var select=el;if(options||(options={}),!el.getAttribute("multiple")||options&&null!=options.multiple||(options.multiple=!0),!el.getAttribute("placeholder")||options&&null!=options.placeholder||(options.placeholder=el.getAttribute("placeholder")),!el.getAttribute("data-autocomplete")||options&&null!=options.autocomplete||(options.autocomplete=!0),options&&null!=options.width||(options.width=el.offsetWidth),!el.value||options&&null!=options.value||(options.value=el.value),!options||null==options.data){options.data=[];for(var j=0;j<el.children.length;j++)if("OPTGROUP"==el.children[j].tagName)for(var i=0;i<el.children[j].children.length;i++)options.data.push({value:el.children[j].children[i].value,text:el.children[j].children[i].textContent,group:el.children[j].getAttribute("label")});else options.data.push({value:el.children[j].value,text:el.children[j].textContent})}options&&null!=options.onchange||(options.onchange=function(a,b,c,d){1==options.multiple?obj.items[b].classList.contains("jdropdown-selected")?select.options[b].setAttribute("selected","selected"):select.options[b].removeAttribute("selected"):select.value=d});var div=document.createElement("div");return el.parentNode.insertBefore(div,el),el.style.display="none",{el:el=div,options:options}},Component}();function Picker(el,options){if(el.picker)return el.picker.setOptions(options,!0);var obj={type:"picker",options:{}},dropdownHeader=null,dropdownContent=null,isDOM=function(o){return o instanceof Element||o instanceof HTMLDocument};obj.setOptions=function(options,reset){var defaults={value:0,data:null,render:null,onchange:null,onmouseover:null,onselect:null,onopen:null,onclose:null,onload:null,width:null,header:!0,right:!1,bottom:!1,content:!1,columns:null,grid:null,height:null};for(var property in options&&options.options&&(options.data=options.options),defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return!1===obj.options.header?dropdownHeader.style.display="none":dropdownHeader.style.display="",obj.options.width?dropdownHeader.style.width=parseInt(obj.options.width)+"px":dropdownHeader.style.width="",obj.options.height?(dropdownContent.style.maxHeight=obj.options.height+"px",dropdownContent.style.overflow="scroll"):dropdownContent.style.overflow="",obj.options.columns>0&&(obj.options.grid?(dropdownContent.classList.add("jpicker-grid"),dropdownContent.style.gridTemplateColumns="repeat("+obj.options.grid+", 1fr)"):(dropdownContent.classList.add("jpicker-columns"),dropdownContent.style.width=obj.options.width?obj.options.width:36*obj.options.columns+"px")),isNaN(parseInt(obj.options.value))&&(obj.options.value=0),function(){dropdownContent.innerHTML="";for(var keys=Object.keys(obj.options.data),i=0;i<keys.length;i++){var dropdownItem=document.createElement("div");dropdownItem.classList.add("jpicker-item"),dropdownItem.k=keys[i],dropdownItem.v=obj.options.data[keys[i]];var item=obj.getLabel(keys[i],dropdownItem);isDOM(item)?dropdownItem.appendChild(item):dropdownItem.innerHTML=item,dropdownContent.appendChild(dropdownItem)}}(),obj.setValue(obj.options.value),obj},obj.getValue=function(){return obj.options.value},obj.setValue=function(k,e){if(obj.setLabel(k),obj.options.value=String(k),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value})),dropdownContent.children[k]&&"generic"!==dropdownContent.children[k].getAttribute("type")&&obj.close(),e&&"function"==typeof obj.options.onchange){var v=obj.options.data[k];obj.options.onchange(el,obj,v,v,k,e)}},obj.getLabel=function(v,item){var label=obj.options.data[v]||null;return"function"==typeof obj.options.render&&(label=obj.options.render(label,item)),label},obj.setLabel=function(v){var item;item=obj.options.content?'<i class="material-icons">'+obj.options.content+"</i>":obj.getLabel(v,null),isDOM(item)?(dropdownHeader.innerHTML="",dropdownHeader.appendChild(item)):dropdownHeader.innerHTML=item},obj.open=function(){if(!el.classList.contains("jpicker-focus")){Tracking(obj,!0),el.classList.add("jpicker-focus"),el.focus();var top=0,left=0;dropdownContent.style.marginLeft="";var rectHeader=dropdownHeader.getBoundingClientRect(),rectContent=dropdownContent.getBoundingClientRect();top=window.innerHeight<rectHeader.bottom+rectContent.height||obj.options.bottom?-1*(rectContent.height+4):rectHeader.height+4,!0===obj.options.right&&(left=-1*rectContent.width+rectHeader.width),rectContent.left+left<0&&(left=left+rectContent.left+10),rectContent.left+rectContent.width>window.innerWidth&&(left=-1*(10+rectContent.left+rectContent.width-window.innerWidth)),dropdownContent.style.marginTop=parseInt(top)+"px",dropdownContent.style.marginLeft=parseInt(left)+"px","function"==typeof obj.options.onopen&&obj.options.onopen(el,obj)}},obj.close=function(){el.classList.contains("jpicker-focus")&&(el.classList.remove("jpicker-focus"),Tracking(obj,!1),"function"==typeof obj.options.onclose&&obj.options.onclose(el,obj))};return el.classList.add("jpicker"),el.setAttribute("tabindex","900"),el.onmousedown=function(e){el.classList.contains("jpicker-focus")||obj.open()},(dropdownHeader=document.createElement("div")).classList.add("jpicker-header"),(dropdownContent=document.createElement("div")).classList.add("jpicker-content"),dropdownContent.onclick=function(e){var item=helpers.findElement(e.target,"jpicker-item");item&&item.parentNode===dropdownContent&&obj.setValue(item.k,e)},el.appendChild(dropdownHeader),el.appendChild(dropdownContent),el.value=options.value||0,obj.setOptions(options),"function"==typeof obj.options.onload&&obj.options.onload(el,obj),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.picker=obj,obj}function Toolbar(el,options){var obj={type:"toolbar",options:{}},defaults={app:null,container:!1,badge:!1,title:!1,responsive:!1,maxWidth:null,bottom:!0,items:[]};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];!el&&options.app&&options.app.el&&(el=document.createElement("div"),options.app.el.appendChild(el));var toolbarArrow=document.createElement("div");toolbarArrow.classList.add("jtoolbar-item"),toolbarArrow.classList.add("jtoolbar-arrow");var toolbarFloating=document.createElement("div");toolbarFloating.classList.add("jtoolbar-floating"),toolbarArrow.appendChild(toolbarFloating),obj.selectItem=function(element){for(var elements=toolbarContent.children,i=0;i<elements.length;i++)element!=elements[i]&&elements[i].classList.remove("jtoolbar-selected");element.classList.add("jtoolbar-selected")},obj.hide=function(){animation.slideBottom(el,0,(function(){el.style.display="none"}))},obj.show=function(){el.style.display="",animation.slideBottom(el,1)},obj.get=function(){return el},obj.setBadge=function(index,value){toolbarContent.children[index].children[1].firstChild.innerHTML=value},obj.destroy=function(){toolbar.remove(),el.innerHTML=""},obj.update=function(a,b){for(var i=0;i<toolbarContent.children.length;i++){"function"==typeof(toolbarItem=toolbarContent.children[i]).updateState&&toolbarItem.updateState(el,obj,toolbarItem,a,b)}for(i=0;i<toolbarFloating.children.length;i++){var toolbarItem;"function"==typeof(toolbarItem=toolbarFloating.children[i]).updateState&&toolbarItem.updateState(el,obj,toolbarItem,a,b)}},obj.create=function(items){toolbarContent.innerHTML="";for(var i=0;i<items.length;i++){var toolbarItem=document.createElement("div");if(toolbarItem.classList.add("jtoolbar-item"),items[i].width&&(toolbarItem.style.width=parseInt(items[i].width)+"px"),items[i].k&&(toolbarItem.k=items[i].k),items[i].tooltip&&toolbarItem.setAttribute("title",items[i].tooltip),items[i].id&&toolbarItem.setAttribute("id",items[i].id),items[i].updateState&&(toolbarItem.updateState=items[i].updateState),items[i].active&&toolbarItem.classList.add("jtoolbar-active"),items[i].disabled&&toolbarItem.classList.add("jtoolbar-disabled"),"select"==items[i].type||"dropdown"==items[i].type)Picker(toolbarItem,items[i]);else if("divisor"==items[i].type)toolbarItem.classList.add("jtoolbar-divisor");else if("label"==items[i].type)toolbarItem.classList.add("jtoolbar-label"),toolbarItem.innerHTML=items[i].content;else{var toolbarIcon=document.createElement("i");if(void 0===items[i].class)toolbarIcon.classList.add("material-icons");else for(var c=items[i].class.split(" "),j=0;j<c.length;j++)toolbarIcon.classList.add(c[j]);if(toolbarIcon.innerHTML=items[i].content?items[i].content:"",toolbarItem.appendChild(toolbarIcon),1==obj.options.badge){var toolbarBadge=document.createElement("div");toolbarBadge.classList.add("jbadge");var toolbarBadgeContent=document.createElement("div");toolbarBadgeContent.innerHTML=items[i].badge?items[i].badge:"",toolbarBadge.appendChild(toolbarBadgeContent),toolbarItem.appendChild(toolbarBadge)}if(items[i].title)if(1==obj.options.title){var toolbarTitle=document.createElement("span");toolbarTitle.innerHTML=items[i].title,toolbarItem.appendChild(toolbarTitle)}else toolbarItem.setAttribute("title",items[i].title);obj.options.app&&items[i].route&&(toolbarItem.route=items[i].route,toolbarItem.onclick=function(){obj.options.app.pages(this.route)},obj.options.app.pages(items[i].route,{toolbarItem:toolbarItem,closed:!0})),"function"==typeof items[i].render&&items[i].render(toolbarItem,items[i])}items[i].onclick&&(toolbarItem.onclick=items[i].onclick.bind(items[i],el,obj,toolbarItem)),toolbarContent.appendChild(toolbarItem)}setTimeout((function(){obj.refresh()}),0)},obj.open=function(){toolbarArrow.classList.add("jtoolbar-arrow-selected");el.getBoundingClientRect();toolbarFloating.getBoundingClientRect().bottom>window.innerHeight||obj.options.bottom?toolbarFloating.style.bottom="0":toolbarFloating.style.removeProperty("bottom"),toolbarFloating.style.right="0",toolbarArrow.children[0].focus(),Tracking(obj,!0)},obj.close=function(){toolbarArrow.classList.remove("jtoolbar-arrow-selected"),Tracking(obj,!1)},obj.refresh=function(){if(1==obj.options.responsive){var rect=el.parentNode.getBoundingClientRect();obj.options.maxWidth||(obj.options.maxWidth=rect.width);var available=parseInt(obj.options.maxWidth);for(toolbarArrow.parentNode&&toolbarArrow.parentNode.removeChild(toolbarArrow);toolbarFloating.firstChild;)toolbarContent.appendChild(toolbarFloating.firstChild);if(available<toolbarContent.offsetWidth)for(available-=50;toolbarContent.lastChild&&available<toolbarContent.offsetWidth;)toolbarFloating.insertBefore(toolbarContent.lastChild,toolbarFloating.firstChild);toolbarFloating.children.length>0&&toolbarContent.appendChild(toolbarArrow)}},obj.setReadonly=function(state){state=state?"add":"remove",el.classList[state]("jtoolbar-disabled")},el.onclick=function(e){var element=helpers.findElement(e.target,"jtoolbar-item");element&&obj.selectItem(element),e.target.classList.contains("jtoolbar-arrow")&&obj.open()},window.addEventListener("resize",(function(){obj.refresh()})),el.classList.add("jtoolbar"),el.innerHTML="",1==obj.options.container&&el.classList.add("jtoolbar-container");var toolbarContent=document.createElement("div");return el.appendChild(toolbarContent),obj.options.app&&el.classList.add("jtoolbar-mobile"),obj.create(obj.options.items),el.toolbar=obj,obj}var editor=function(){var Component=function(el,options){var obj={type:"editor",options:{}},defaults={url:null,value:"",snippet:null,toolbar:!0,toolbarOnTop:!1,remoteParser:null,placeholder:null,filterPaste:!0,dropZone:!0,dropAsSnippet:!1,acceptImages:!0,acceptFiles:!1,maxFileSize:5e6,allowImageResize:!0,maxHeight:null,height:null,focus:!1,onclick:null,onfocus:null,onblur:null,onload:null,onkeyup:null,onkeydown:null,onchange:null,extensions:null,type:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];var editorTimer=null,editorAction=null,files=[];obj.el=el,"function"==typeof obj.options.onclick&&(el.onclick=function(e){obj.options.onclick(el,obj,e)}),el.classList.add("jeditor-container");var snippet=document.createElement("div");snippet.className="jsnippet",snippet.setAttribute("contenteditable",!1);var toolbar=document.createElement("div");if(toolbar.className="jeditor-toolbar",obj.editor=document.createElement("div"),obj.editor.setAttribute("contenteditable",!0),obj.editor.setAttribute("spellcheck",!1),obj.editor.classList.add("jeditor"),obj.options.placeholder&&obj.editor.setAttribute("data-placeholder",obj.options.placeholder),(obj.options.maxHeight||obj.options.height)&&(obj.editor.style.overflowY="auto",obj.options.maxHeight&&(obj.editor.style.maxHeight=obj.options.maxHeight),obj.options.height&&(obj.editor.style.height=obj.options.height)),obj.options.url)ajax({url:obj.options.url,dataType:"html",success:function(result){obj.editor.innerHTML=result,Component.setCursor(obj.editor,"initial"==obj.options.focus)}});else if(obj.options.value)obj.editor.innerHTML=obj.options.value;else for(var i=0;i<el.children.length;i++)obj.editor.appendChild(el.children[i]);el.innerHTML="";var change=function(e){"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,e),obj.options.value=obj.getData(),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},updateTotalImages=function(){var o=null;if(o=snippet.children[0]){o.classList.contains("jslider-grid")||o.classList.add("jslider-grid");var number=o.children.length;o.setAttribute("data-number",number>4?4:number),number>4?o.setAttribute("data-total",number-4):o.removeAttribute("data-total")}};obj.appendSnippet=function(data){snippet.innerHTML="";for(var a=["image","title","description","host","url"],i=0;i<a.length;i++){var div=document.createElement("div");if(div.className="jsnippet-"+a[i],div.setAttribute("data-k",a[i]),snippet.appendChild(div),data[a[i]])if("image"==a[i]){Array.isArray(data.image)||(data.image=[data.image]);for(var j=0;j<data.image.length;j++){var img=document.createElement("img");img.src=data.image[j],div.appendChild(img)}}else div.innerHTML=data[a[i]]}obj.editor.appendChild(document.createElement("br")),obj.editor.appendChild(snippet)},obj.setData=function(o){obj.editor.innerHTML="object"==typeof o?o.content:o,obj.options.focus&&Component.setCursor(obj.editor,!0),files=[]},obj.getFiles=function(){for(var f=obj.editor.querySelectorAll(".jfile"),d=[],i=0;i<f.length;i++)files[f[i].src]&&d.push(files[f[i].src]);return d},obj.getText=function(){return obj.editor.innerText},obj.getData=function(json){if(json){data={content:""};if(snippet.innerHTML){data.snippet={};for(var i=0;i<snippet.children.length;i++){var key=snippet.children[i].getAttribute("data-k");if(key)if("image"==key){data.snippet.image||(data.snippet.image=[]);for(var j=0;j<snippet.children[i].children.length;j++)data.snippet.image.push(snippet.children[i].children[j].getAttribute("src"))}else data.snippet[key]=snippet.children[i].innerHTML}}var f=Object.keys(files);if(f.length){data.files=[];for(i=0;i<f.length;i++)data.files.push(files[f[i]])}var d=document.createElement("div");d.innerHTML=obj.editor.innerHTML;var s=d.querySelector(".jsnippet");s&&s.remove();var text=d.innerHTML;text=(text=(text=text.replace(/<br>/g,"\n")).replace(/<\/div>/g,"</div>\n")).replace(/<(?:.|\n)*?>/gm,""),data.content=text.trim(),processExtensions("getData",data)}else var data=obj.editor.innerHTML;return data},obj.reset=function(){obj.editor.innerHTML="",snippet.innerHTML="",files=[]},obj.addPdf=function(data){if("data"!=data.result.substr(0,4))console.error("Invalid source");else{var canvas=document.createElement("canvas");canvas.width=60,canvas.height=60;var img=new Image;canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),canvas.toBlob((function(blob){var newImage=document.createElement("img");newImage.src=window.URL.createObjectURL(blob),newImage.title=data.name,newImage.className="jfile pdf",files[newImage.src]={file:newImage.src,extension:"pdf",content:data.result},document.execCommand("insertHtml",!1,newImage.outerHTML)}))}},obj.addImage=function(src,asSnippet){if(src||(src=""),"data"==src.substr(0,4)||obj.options.remoteParser){if("data"==src.substr(0,4)){extension=(extension=(extension=src.split(";"))[0].split("/"))[1]}else{var extension=src.substr(src.lastIndexOf(".")+1);src=obj.options.remoteParser+src}var img=new Image;img.onload=function(){var canvas=document.createElement("canvas");canvas.width=img.width,canvas.height=img.height,canvas.getContext("2d").drawImage(img,0,0,canvas.width,canvas.height),canvas.toBlob((function(blob){var image,newImage=document.createElement("img");newImage.src=window.URL.createObjectURL(blob),newImage.classList.add("jfile"),newImage.setAttribute("tabindex","900"),newImage.setAttribute("width",img.width),newImage.setAttribute("height",img.height),files[newImage.src]={file:newImage.src,extension:extension,content:canvas.toDataURL()},obj.options.dropAsSnippet||asSnippet?(image=newImage,snippet.innerHTML||obj.appendSnippet({}),snippet.children[0].appendChild(image),updateTotalImages(),files[newImage.src].snippet=!0):document.execCommand("insertHtml",!1,newImage.outerHTML),change()}))},img.src=src}else console.error("remoteParser not defined in your initialization")},obj.addFile=function(files){for(var reader=[],i=0;i<files.length;i++)if(files[i].size>obj.options.maxFileSize)alert("The file is too big");else{var type=files[i].type.split("/");(type="image"==type[0]?1:"pdf"==type[1]?2:0)?(reader[i]=new FileReader,reader[i].index=i,reader[i].type=type,reader[i].name=files[i].name,reader[i].date=files[i].lastModified,reader[i].size=files[i].size,reader[i].addEventListener("load",(function(data){2==data.target.type?1==obj.options.acceptFiles&&obj.addPdf(data.target):obj.addImage(data.target.result)}),!1),reader[i].readAsDataURL(files[i])):alert("The extension is not allowed")}},obj.destroy=function(){obj.editor.removeEventListener("mouseup",editorMouseUp),obj.editor.removeEventListener("mousedown",editorMouseDown),obj.editor.removeEventListener("mousemove",editorMouseMove),obj.editor.removeEventListener("keyup",editorKeyUp),obj.editor.removeEventListener("keydown",editorKeyDown),obj.editor.removeEventListener("dragstart",editorDragStart),obj.editor.removeEventListener("dragenter",editorDragEnter),obj.editor.removeEventListener("dragover",editorDragOver),obj.editor.removeEventListener("drop",editorDrop),obj.editor.removeEventListener("paste",editorPaste),obj.editor.removeEventListener("blur",editorBlur),obj.editor.removeEventListener("focus",editorFocus),el.editor=null,el.classList.remove("jeditor-container"),toolbar.remove(),snippet.remove(),obj.editor.remove()},obj.upload=function(){helpers.click(obj.file)};var remove=[HTMLUnknownElement,HTMLAudioElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTextAreaElement,HTMLInputElement,HTMLScriptElement],validProperty=["width","height","align","border","src","tabindex"],validStyle=["color","font-weight","font-size","background","background-color","margin"],parse=function(element){if(element.attributes&&element.attributes.length){var style=null,elementStyle=element.getAttribute("style");if(elementStyle){style=[];for(var t=elementStyle.split(";"),j=0;j<t.length;j++){var v=t[j].trim().split(":");if(validStyle.indexOf(v[0].trim())>=0){var k=v.shift();v=v.join(":");style.push(k+":"+v)}}}"IMG"==element.tagName.toUpperCase()&&(obj.options.acceptImages&&element.src?(element.setAttribute("tabindex","900"),obj.addImage(element.src)):element.parentNode.removeChild(element));for(var attr=[],i=0;i<element.attributes.length;i++)attr.push(element.attributes[i].name);attr.length&&attr.forEach((function(v){-1==validProperty.indexOf(v)?element.removeAttribute(v):-1!==element.attributes[i].value.indexOf("<")&&element.attributes[i].value.replace("<","&#60;")})),element.style="",style&&style.length&&element.setAttribute("style",style.join(";"))}if(element.children.length)for(i=0;i<element.children.length;i++)parse(element.children[i]);remove.indexOf(element.constructor)>=0&&element.remove()},select=function(e){var s=window.getSelection(),r=document.createRange();r.selectNode(e),s.addRange(r)},editorPaste=function(e){if(1==obj.options.filterPaste){if(e.clipboardData||e.originalEvent.clipboardData)var html=(e.originalEvent||e).clipboardData.getData("text/html"),text=(e.originalEvent||e).clipboardData.getData("text/plain"),file=(e.originalEvent||e).clipboardData.files;else if(window.clipboardData)html=window.clipboardData.getData("Html"),text=window.clipboardData.getData("Text"),file=window.clipboardData.files;if(file.length)obj.addFile(file);else if(html){var d=function(data){data&&(data=data.replace(new RegExp("\x3c!--(.*?)--\x3e","gsi"),""));var d=(new DOMParser).parseFromString(data,"text/html");parse(d);var span=document.createElement("span");return span.innerHTML=d.firstChild.innerHTML,span}(html);document.execCommand("insertHtml",!1,d.innerHTML)}else html=text.split("\r\n"),e.target.innerText?(html=html.map((function(v){return"<div>"+v+"</div>"})),document.execCommand("insertHtml",!1,html.join(""))):html.map((function(v){var d=document.createElement("div");d.innerText=v,obj.editor.appendChild(d)}));e.preventDefault()}},editorDragStart=function(e){editorAction&&editorAction.e&&e.preventDefault()},editorDragEnter=function(e){editorAction||0==obj.options.dropZone||(el.classList.add("jeditor-dragging"),e.preventDefault())},editorDragOver=function(e){editorAction||0==obj.options.dropZone||(editorTimer&&clearTimeout(editorTimer),editorTimer=setTimeout((function(){el.classList.remove("jeditor-dragging")}),100),e.preventDefault())},editorDrop=function(e){if(editorAction||0==obj.options.dropZone);else{var range=null;document.caretRangeFromPoint?range=document.caretRangeFromPoint(e.clientX,e.clientY):e.rangeParent&&(range=document.createRange()).setStart(e.rangeParent,e.rangeOffset);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range),sel.anchorNode.parentNode.focus();var html=(e.originalEvent||e).dataTransfer.getData("text/html"),text=(e.originalEvent||e).dataTransfer.getData("text/plain"),file=(e.originalEvent||e).dataTransfer.files;file.length?obj.addFile(file):text&&function(html){var div=document.createElement("div");div.innerHTML=html;var img=div.querySelectorAll("img");if(img.length)for(var i=0;i<img.length;i++)obj.addImage(img[i].src)}(html),el.classList.remove("jeditor-dragging"),e.preventDefault()}},editorBlur=function(e){processExtensions("onevent",e),change(e),"function"==typeof obj.options.onblur&&obj.options.onblur(el,obj,e)},editorFocus=function(e){"function"==typeof obj.options.onfocus&&obj.options.onfocus(el,obj,e)},editorKeyUp=function(e){obj.editor.innerHTML||(obj.editor.innerHTML="<div><br></div>"),"function"==typeof obj.options.onkeyup&&obj.options.onkeyup(el,obj,e)},editorKeyDown=function(e){if(processExtensions("onevent",e),"Delete"==e.key&&"IMG"==e.target.tagName){var parent=e.target.parentNode;select(e.target),parent.classList.contains("jsnippet-image")&&updateTotalImages()}"function"==typeof obj.options.onkeydown&&obj.options.onkeydown(el,obj,e)},editorMouseUp=function(e){if(editorAction&&editorAction.e&&(editorAction.e.classList.remove("resizing"),1==editorAction.e.changed)){var image=editorAction.e.cloneNode();image.width=parseInt(editorAction.e.style.width)||editorAction.e.getAttribute("width"),image.height=parseInt(editorAction.e.style.height)||editorAction.e.getAttribute("height"),editorAction.e.style.width="",editorAction.e.style.height="",select(editorAction.e),document.execCommand("insertHtml",!1,image.outerHTML)}editorAction=!1},editorMouseDown=function(e){var close=function(snippet){var rect=snippet.getBoundingClientRect();rect.width-(e.clientX-rect.left)<40&&e.clientY-rect.top<40&&(snippet.innerHTML="",snippet.remove())};if("IMG"==e.target.tagName)if(e.target.style.cursor){var rect=e.target.getBoundingClientRect();editorAction={e:e.target,x:e.clientX,y:e.clientY,w:rect.width,h:rect.height,d:e.target.style.cursor},e.target.getAttribute("width")||e.target.setAttribute("width",rect.width),e.target.getAttribute("height")||e.target.setAttribute("height",rect.height);var s=window.getSelection();if(s.rangeCount)for(var i=0;i<s.rangeCount;i++)s.removeRange(s.getRangeAt(i));e.target.classList.add("resizing")}else editorAction=!0;else e.target.classList.contains("jsnippet")?close(e.target):e.target.parentNode.classList.contains("jsnippet")&&close(e.target.parentNode),editorAction=!0},editorMouseMove=function(e){if("IMG"==e.target.tagName&&!e.target.parentNode.classList.contains("jsnippet-image")&&1==obj.options.allowImageResize&&e.target.getAttribute("tabindex")){var rect=e.target.getBoundingClientRect();e.clientY-rect.top<5?rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="ne-resize":e.clientX-rect.left<5?e.target.style.cursor="nw-resize":e.target.style.cursor="n-resize":rect.height-(e.clientY-rect.top)<5?rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="se-resize":e.clientX-rect.left<5?e.target.style.cursor="sw-resize":e.target.style.cursor="s-resize":rect.width-(e.clientX-rect.left)<5?e.target.style.cursor="e-resize":e.clientX-rect.left<5?e.target.style.cursor="w-resize":e.target.style.cursor=""}if(1==e.which&&editorAction&&editorAction.d){if("e-resize"==editorAction.d||"ne-resize"==editorAction.d||"se-resize"==editorAction.d)if(editorAction.e.style.width=editorAction.w+(e.clientX-editorAction.x),e.shiftKey){var newHeight=(e.clientX-editorAction.x)*(editorAction.h/editorAction.w);editorAction.e.style.height=editorAction.h+newHeight}else newHeight=null;newHeight||"s-resize"!=editorAction.d&&"se-resize"!=editorAction.d&&"sw-resize"!=editorAction.d||e.shiftKey||(editorAction.e.style.height=editorAction.h+(e.clientY-editorAction.y)),editorAction.e.changed=!0}},processExtensions=function(method,data){if(obj.options.extensions){var ext=Object.keys(obj.options.extensions);if(ext.length)for(var i=0;i<ext.length;i++)obj.options.extensions[ext[i]]&&"function"==typeof obj.options.extensions[ext[i]][method]&&obj.options.extensions[ext[i]][method].call(obj,data)}};if(document.addEventListener("mouseup",editorMouseUp),document.addEventListener("mousemove",editorMouseMove),obj.editor.addEventListener("mousedown",editorMouseDown),obj.editor.addEventListener("keyup",editorKeyUp),obj.editor.addEventListener("keydown",editorKeyDown),obj.editor.addEventListener("dragstart",editorDragStart),obj.editor.addEventListener("dragenter",editorDragEnter),obj.editor.addEventListener("dragover",editorDragOver),obj.editor.addEventListener("drop",editorDrop),obj.editor.addEventListener("paste",editorPaste),obj.editor.addEventListener("focus",editorFocus),obj.editor.addEventListener("blur",editorBlur),el.appendChild(obj.editor),obj.options.snippet&&obj.appendSnippet(obj.options.snippet),obj.options.toolbar){if(Array.isArray(obj.options.toolbar))var toolbarOptions={container:!0,responsive:!0,items:obj.options.toolbar};else if(!0===obj.options.toolbar)toolbarOptions={container:!0,responsive:!0,items:[]};else toolbarOptions=obj.options.toolbar;toolbarOptions.items&&toolbarOptions.items.length||(toolbarOptions.items=Component.getDefaultToolbar(obj)),obj.options.toolbarOnTop?(el.classList.add("toolbar-on-top"),el.insertBefore(toolbar,el.firstChild)):(obj.editor.style.padding="15px",el.appendChild(toolbar)),Toolbar(toolbar,toolbarOptions),toolbar.addEventListener("click",(function(){obj.editor.focus()}))}return obj.file=document.createElement("input"),obj.file.style.display="none",obj.file.type="file",obj.file.setAttribute("accept","image/*"),obj.file.onchange=function(){obj.addFile(this.files)},el.appendChild(obj.file),obj.options.focus&&Component.setCursor(obj.editor,"initial"==obj.options.focus),el.change=obj.setData,el.val=function(val){if(void 0===val){var o="true"!==el.getAttribute("data-html");return obj.getData(o)}obj.setData(val)},function(){if(obj.options.extensions){var ext=Object.keys(obj.options.extensions);if(ext.length)for(var i=0;i<ext.length;i++)obj.options.extensions[ext[i]]&&"function"==typeof obj.options.extensions[ext[i]]&&(obj.options.extensions[ext[i]]=obj.options.extensions[ext[i]](el,obj))}}(),el.editor=obj,"function"==typeof obj.options.onload&&obj.options.onload(el,obj,obj.editor),obj};return Component.setCursor=function(element,first){element.focus(),document.execCommand("selectAll");var sel=window.getSelection(),range=sel.getRangeAt(0);if(1==first)var node=range.startContainer,size=0;else size=(node=range.endContainer).length;range.setStart(node,size),range.setEnd(node,size),sel.removeAllRanges(),sel.addRange(range)},Component.getDefaultToolbar=function(obj){var color=function(a,b,c){if(!c.color){Color(c,{onchange:function(o,v){"color"===c.k?document.execCommand("foreColor",!1,v):document.execCommand("backColor",!1,v)}});c.color.open()}},items=[];return items.push({content:"undo",onclick:function(){document.execCommand("undo")}}),items.push({content:"redo",onclick:function(){document.execCommand("redo")}}),items.push({type:"divisor"}),obj.options.toolbarOnTop&&(items.push({type:"select",width:"140px",options:["Default","Verdana","Arial","Courier New"],render:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},onchange:function(a,b,c,d,e){document.execCommand("fontName",!1,d)}}),items.push({type:"select",content:"format_size",options:["x-small","small","medium","large","x-large"],render:function(e){return'<span style="font-size:'+e+'">'+e+"</span>"},onchange:function(a,b,c,d,e){document.execCommand("fontSize",!1,parseInt(e)+1)}}),items.push({type:"select",options:["format_align_left","format_align_center","format_align_right","format_align_justify"],render:function(e){return'<i class="material-icons">'+e+"</i>"},onchange:function(a,b,c,d,e){document.execCommand(["JustifyLeft","justifyCenter","justifyRight","justifyFull"][e])}}),items.push({type:"divisor"}),items.push({content:"format_color_text",k:"color",onclick:color}),items.push({content:"format_color_fill",k:"background-color",onclick:color})),items.push({content:"format_bold",onclick:function(a,b,c){document.execCommand("bold"),document.queryCommandState("bold")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({content:"format_italic",onclick:function(a,b,c){document.execCommand("italic"),document.queryCommandState("italic")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({content:"format_underline",onclick:function(a,b,c){document.execCommand("underline"),document.queryCommandState("underline")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({type:"divisor"}),items.push({content:"format_list_bulleted",onclick:function(a,b,c){document.execCommand("insertUnorderedList"),document.queryCommandState("insertUnorderedList")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({content:"format_list_numbered",onclick:function(a,b,c){document.execCommand("insertOrderedList"),document.queryCommandState("insertOrderedList")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({content:"format_indent_increase",onclick:function(a,b,c){document.execCommand("indent",!0,null),document.queryCommandState("indent")?c.classList.add("selected"):c.classList.remove("selected")}}),items.push({content:"format_indent_decrease",onclick:function(){document.execCommand("outdent"),document.queryCommandState("outdent")?this.classList.add("selected"):this.classList.remove("selected")}}),obj.options.toolbarOnTop&&(items.push({type:"divisor"}),items.push({content:"photo",onclick:function(){obj.upload()}}),items.push({type:"select",content:"table_view",columns:8,grid:8,right:!0,options:["0x0","1x0","2x0","3x0","4x0","5x0","6x0","7x0","0x1","1x1","2x1","3x1","4x1","5x1","6x1","7x1","0x2","1x2","2x2","3x2","4x2","5x2","6x2","7x2","0x3","1x3","2x3","3x3","4x3","5x3","6x3","7x3","0x4","1x4","2x4","3x4","4x4","5x4","6x4","7x4","0x5","1x5","2x5","3x5","4x5","5x5","6x5","7x5","0x6","1x6","2x6","3x6","4x6","5x6","6x6","7x6","0x7","1x7","2x7","3x7","4x7","5x7","6x7","7x7"],render:function(e,item){item&&(item.onmouseover=this.onmouseover,e=e.split("x"),item.setAttribute("data-x",e[0]),item.setAttribute("data-y",e[1]));var element=document.createElement("div");return item.style.margin="1px",item.style.border="1px solid #ddd",element},onmouseover:function(e){for(var x=parseInt(e.target.getAttribute("data-x")),y=parseInt(e.target.getAttribute("data-y")),i=0;i<e.target.parentNode.children.length;i++){var element=e.target.parentNode.children[i],ex=parseInt(element.getAttribute("data-x")),ey=parseInt(element.getAttribute("data-y"));ex<=x&&ey<=y?(element.style.backgroundColor="#cae1fc",element.style.borderColor="#2977ff"):(element.style.backgroundColor="",element.style.borderColor="#ddd")}},onchange:function(a,b,c){c=c.split("x");for(var table=document.createElement("table"),tbody=document.createElement("tbody"),y=0;y<=c[1];y++){for(var tr=document.createElement("tr"),x=0;x<=c[0];x++){var td=document.createElement("td");td.innerHTML="",tr.appendChild(td)}tbody.appendChild(tr)}table.appendChild(tbody),table.setAttribute("width","100%"),table.setAttribute("cellpadding","6"),table.setAttribute("cellspacing","0"),document.execCommand("insertHTML",!1,table.outerHTML)}})),items},Component}();var floating=function(){var Component=function(el,options){var obj={options:{}},defaults={type:"big",title:"Untitled",width:510,height:472};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];return obj.state={isMinized:!1},obj.setState=function(){obj.state.isMinized?obj.container.classList.remove("jfloating-minimized"):obj.container.classList.add("jfloating-minimized"),obj.state.isMinized=!obj.state.isMinized},obj.close=function(){Components.elements.splice(Component.elements.indexOf(obj.container),1),obj.updatePosition(),el.remove()},obj.updatePosition=function(){for(var i=0;i<Component.elements.length;i++){var floating=Component.elements[i],prevFloating=Component.elements[i-1];floating.style.right=i*(prevFloating?prevFloating.offsetWidth:floating.offsetWidth)*1.01+"px"}},obj.init=function(){!function(){for(var temp=document.createElement("div");el.children[0];)temp.appendChild(el.children[0]);for(obj.content=document.createElement("div"),obj.content.className="jfloating_content",obj.content.innerHTML=el.innerHTML;temp.children[0];)obj.content.appendChild(temp.children[0]);obj.container=document.createElement("div"),obj.container.className="jfloating",obj.container.appendChild(obj.content),obj.options.title?obj.container.setAttribute("title",obj.options.title):obj.container.classList.add("no-title"),obj.options.width&&(obj.container.style.width=parseInt(obj.options.width)+"px"),obj.options.height&&(obj.container.style.height=parseInt(obj.options.height)+"px"),el.innerHTML="",el.appendChild(obj.container)}(),obj.container&&obj.container.addEventListener("click",(function(e){var rect=e.target.getBoundingClientRect();if(e.target.classList.contains("jfloating")){if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<50&&y-rect.top<50?setTimeout((function(){obj.close()}),100):obj.setState()}})),obj.container.classList.add("jfloating-"+obj.options.type),Component.elements.push(obj.container),obj.updatePosition(),el.floating=obj},obj.init(),obj};return Component.elements=[],Component}();var validations=function(){const isNumeric=function(num){return!isNaN(num)&&null!==num&&""!==num},numberCriterias={between:function(value,range){return value>=range[0]&&value<=range[1]},"not between":function(value,range){return value<range[0]||value>range[1]},"<":function(value,range){return value<range[0]},"<=":function(value,range){return value<=range[0]},">":function(value,range){return value>range[0]},">=":function(value,range){return value>=range[0]},"=":function(value,range){return value==range[0]},"!=":function(value,range){return value!=range[0]}},dateCriterias={"valid date":function(){return!0},"=":function(value,range){return value===range[0]},"!=":function(value,range){return value!==range[0]},"<":function(value,range){return value<range[0]},"<=":function(value,range){return value<=range[0]},">":function(value,range){return value>range[0]},">=":function(value,range){return value>=range[0]},between:function(value,range){return value>=range[0]&&value<=range[1]},"not between":function(value,range){return value<range[0]||value>range[1]}},textCriterias={contains:function(value,range){return value.includes(range[0])},"not contains":function(value,range){return!value.includes(range[0])},"begins with":function(value,range){return value.startsWith(range[0])},"ends with":function(value,range){return value.endsWith(range[0])},"=":function(value,range){return value===range[0]},"!=":function(value,range){return value!==range[0]},"valid email":function(value){return new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/).test(value)},"valid url":function(value){return new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(value)}},component=function(value,options){return"function"==typeof component[options.type]?!(!options.allowBlank||""!==value)||component[options.type](value,options):null};component.url=function(data){return!!new RegExp(/(((https?:\/\/)|(www\.))[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|]+)/gi).test(data)},component.email=function(data){var pattern=new RegExp(/^[^\s@]+@[^\s@]+\.[^\s@]+$/);return!(!data||!pattern.test(data))},component.required=function(data){return!(!data||!data.trim())},component.exist=function(data,options){return!!data.toString().trim()},component["not exist"]=function(data,options){return!data.toString().trim()},component.empty=function(data){return!data.toString().trim()},component.notEmpty=function(data){return!!data.toString().trim()},component.number=function(data,options){if(!isNumeric(data))return!1;if(!options||!options.criteria)return!0;if(!numberCriterias[options.criteria])return!1;let values=options.value.map((function(num){return parseFloat(num)}));return numberCriterias[options.criteria](data,values)},component.login=function(data){let pattern=new RegExp(/^[a-zA-Z0-9._-]+$/);return!(!data||!pattern.test(data))},component.list=function(data,options){let list,dataType=typeof data;if("string"!==dataType&&"number"!==dataType)return!1;if(list="string"==typeof options.value[0]?options.value[0].split(","):options.value[0],Array.isArray(list)){return list.findIndex((function(item){return item==data}))>-1}return!1};const getCurrentDateWithoutTime=function(){let date=new Date;return date.setHours(0,0,0,0),date},relativeDates={"one year ago":function(){let date=getCurrentDateWithoutTime();return date.setFullYear(date.getFullYear()-1),date},"one month ago":function(){let date=getCurrentDateWithoutTime();return date.setMonth(date.getMonth()-1),date},"one week ago":function(){let date=getCurrentDateWithoutTime();return date.setDate(date.getDate()-7),date},yesterday:function(){let date=getCurrentDateWithoutTime();return date.setDate(date.getDate()-1),date},today:getCurrentDateWithoutTime,tomorrow:function(){let date=getCurrentDateWithoutTime();return date.setDate(date.getDate()+1),date}};return component.date=function(data,options){if(isNumeric(data)&&data>0&&data<1e6&&(data=helpers_date.numToDate(data)),"Invalid Date"==new Date(data))return!1;if(!options||!options.criteria)return!0;if(!dateCriterias[options.criteria])return!1;let values=options.value.map((function(date){return"string"==typeof date&&relativeDates[date]?relativeDates[date]().getTime():new Date(date).getTime()}));return dateCriterias[options.criteria](new Date(data).getTime(),values)},component.text=function(data,options){return"string"==typeof data&&(!options||!options.criteria||!!textCriterias[options.criteria]&&textCriterias[options.criteria](data,options.value))},component.textLength=function(data,options){return data=data.toString(),component.number(data.length,options)},component}();var plugins_form=function(){var Component=function(el,options){var obj={options:{}},defaults={url:null,message:"Are you sure? There are unsaved information in your form",ignore:!1,currentHash:null,submitButton:null,validations:null,onbeforeload:null,onload:null,onbeforesave:null,onsave:null,onbeforeremove:null,onremove:null,onerror:function(el,message){alert(message)}};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];obj.options.validations||(obj.options.validations={}),obj.options.submitButton||(obj.options.submitButton=el.querySelector("input[type=submit]")),obj.options.submitButton&&obj.options.url&&(obj.options.submitButton.onclick=function(){obj.save()}),obj.options.validations.email||(obj.options.validations.email=validations.email),obj.options.validations.length||(obj.options.validations.length=validations.length),obj.options.validations.required||(obj.options.validations.required=validations.required),obj.setUrl=function(url){obj.options.url=url},obj.load=function(){ajax({url:obj.options.url,method:"GET",dataType:"json",queue:!0,success:function(data){if("function"==typeof obj.options.onbeforeload){var ret=obj.options.onbeforeload(el,data);ret&&(data=ret)}Component.setElements(el,data),"function"==typeof obj.options.onload&&obj.options.onload(el,data)}})},obj.save=function(){var test=obj.validate();if(test)obj.options.onerror(el,test);else{var data=Component.getElements(el,!0);if("function"==typeof obj.options.onbeforesave)if(!1===(data=obj.options.onbeforesave(el,data)))return;ajax({url:obj.options.url,method:"POST",dataType:"json",data:data,success:function(result){"function"==typeof obj.options.onsave&&obj.options.onsave(el,data,result)}})}},obj.remove=function(){if("function"==typeof obj.options.onbeforeremove&&!1===obj.options.onbeforeremove(el,obj))return!1;ajax({url:obj.options.url,method:"DELETE",dataType:"json",success:function(result){"function"==typeof obj.options.onremove&&obj.options.onremove(el,obj,result),obj.reset()}})};return obj.validateElement=function(element){var test=!1,value=Component.getValue(element),validation=element.getAttribute("data-validation");return"function"!=typeof obj.options.validations[validation]||obj.options.validations[validation](value,element)?element.classList.contains("error")&&function(element){var error=!1;element.classList.remove("error"),element.removeAttribute("title");for(var elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)elements[i].getAttribute("data-validation")&&elements[i].classList.contains("error")&&(error=!0);obj.options.submitButton&&(error?obj.options.submitButton.setAttribute("disabled",!0):obj.options.submitButton.removeAttribute("disabled"))}(element):test=function(element){element.classList.add("error"),obj.options.submitButton&&obj.options.submitButton.setAttribute("disabled",!0);var error=element.getAttribute("data-error")||"There is an error in the form";return element.setAttribute("title",error),error}(element),test},obj.reset=function(){for(var elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)elements[i].getAttribute("name")&&("checkbox"==elements[i].type||"radio"==elements[i].type?elements[i].checked=!1:"function"==typeof elements[i].val?elements[i].val(""):elements[i].value="")},obj.validate=function(){for(var test=[],elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)if(elements[i].getAttribute("data-validation")){var res=obj.validateElement(elements[i]);res&&test.push(res)}return test.length>0&&test.join("<br>")},obj.getError=function(){return!!obj.validation()},obj.setHash=function(){return obj.getHash(Component.getElements(el))},obj.getHash=function(str){var i,hash=0;if(0===str.length)return hash;for(i=0;i<str.length;i++)hash=(hash<<5)-hash+str.charCodeAt(i),hash|=0;return hash},obj.isChanged=function(){var hash=obj.setHash();return obj.options.currentHash!=hash},obj.resetTracker=function(){obj.options.currentHash=obj.setHash(),obj.options.ignore=!1},obj.setIgnore=function(ignoreFlag){obj.options.ignore=!!ignoreFlag},setTimeout((function(){obj.options.currentHash=obj.setHash()}),1e3),el.addEventListener("keyup",(function(e){e.target.getAttribute("data-validation")&&obj.validateElement(e.target)})),Component.hasEvents||(window.addEventListener("beforeunload",(function(e){if(obj.isChanged()&&0==obj.options.ignore){var confirmationMessage=obj.options.message?obj.options.message:"o/";return confirmationMessage?(void 0===e&&(e=window.event),e&&(e.returnValue=confirmationMessage),confirmationMessage):void 0}})),Component.hasEvents=!0),el.form=obj,obj};return Component.getValue=function(element){var value=null;if("checkbox"==element.type)1==element.checked&&(value=element.value||!0);else if("radio"==element.type)1==element.checked&&(value=element.value);else if("file"==element.type)value=element.files;else if("select"==element.tagName&&1==element.multiple){value=[];for(var options=element.querySelectorAll("options[selected]"),j=0;j<options.length;j++)value.push(options[j].value)}else value="function"==typeof element.val?element.val():element.value||"";return value},Component.getElements=function(el,asArray){for(var data={},name=null,elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++)(name=elements[i].getAttribute("name"))&&(data[name]=Component.getValue(elements[i])||"");return 1==asArray?data:JSON.stringify(data)},Component.setElements=function(el,data){for(var name=null,value=null,elements=el.querySelectorAll("input, select, textarea, div[name]"),i=0;i<elements.length;i++){var type=elements[i].getAttribute("type");if(name=elements[i].getAttribute("name")){if(value=null,(name=name.replace(new RegExp(/\[(.*?)\]/gi),".$1")).match(/\./)){var tmp=Path.call(data,name)||"";void 0!==tmp&&(value=tmp)}else void 0!==data[name]&&(value=data[name]);null!==value&&("checkbox"==type||"radio"==type?elements[i].checked=!!value:"file"==type||("function"==typeof elements[i].val?elements[i].val(value):elements[i].value=value))}}},Component}();var modal=function(){var Events=function(){var tracker=null;document.addEventListener("keydown",(function(e){if(27==e.which)for(var modals=document.querySelectorAll(".jmodal"),i=0;i<modals.length;i++)modals[i].parentNode.modal.close()})),document.addEventListener("mouseup",(function(e){let element=e.composedPath();var item=helpers.findElement(element[0],"jmodal");if(item){var rect=item.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<50&&y-rect.top<50&&item.parentNode.modal.close()}tracker&&(tracker.element.style.cursor="auto",tracker=null)})),document.addEventListener("mousedown",(function(e){let element=e.composedPath();var item=helpers.findElement(element[0],"jmodal");if(item){var rect=item.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else x=e.clientX,y=e.clientY;rect.width-(x-rect.left)<50&&y-rect.top<50||y-rect.top<50&&(document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),tracker={left:rect.left,top:rect.top,x:e.clientX,y:e.clientY,width:rect.width,height:rect.height,element:item})}})),document.addEventListener("mousemove",(function(e){if(tracker){if((e=e||window.event).buttons)var mouseButton=e.buttons;else if(e.button)mouseButton=e.button;else mouseButton=e.which;mouseButton?(tracker.element.style.top=tracker.top+(e.clientY-tracker.y)+tracker.height/2+"px",tracker.element.style.left=tracker.left+(e.clientX-tracker.x)+tracker.width/2+"px",tracker.element.style.cursor="move"):tracker.element.style.cursor="auto"}}))};return function(el,options){var obj={options:{}},defaults={url:null,onopen:null,onclose:null,onload:null,closed:!1,width:null,height:null,title:null,padding:null,backdrop:!0,icon:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];!obj.options.title&&el.getAttribute("title")&&(obj.options.title=el.getAttribute("title"));for(var temp=document.createElement("div");el.children[0];)temp.appendChild(el.children[0]);for(obj.title=document.createElement("div"),obj.title.className="jmodal_title",obj.options.icon&&obj.title.setAttribute("data-icon",obj.options.icon),obj.content=document.createElement("div"),obj.content.className="jmodal_content",obj.content.innerHTML=el.innerHTML;temp.children[0];)obj.content.appendChild(temp.children[0]);if(obj.container=document.createElement("div"),obj.container.className="jmodal",obj.container.appendChild(obj.title),obj.container.appendChild(obj.content),obj.options.padding&&(obj.content.style.padding=obj.options.padding),obj.options.width&&(obj.container.style.width=obj.options.width),obj.options.height&&(obj.container.style.height=obj.options.height),obj.options.title){var title=document.createElement("h4");title.innerText=obj.options.title,obj.title.appendChild(title)}if(el.innerHTML="",el.style.display="none",el.appendChild(obj.container),obj.options.backdrop){var backdrop=document.createElement("div");backdrop.className="jmodal_backdrop",backdrop.onclick=function(){obj.close()},el.appendChild(backdrop)}return obj.open=function(){el.style.display="block";var rect=obj.container.getBoundingClientRect();helpers.getWindowWidth()<rect.width?(obj.container.style.top="",obj.container.style.left="",obj.container.classList.add("jmodal_fullscreen"),animation.slideBottom(obj.container,1)):obj.options.backdrop&&(backdrop.style.display="block"),"function"==typeof obj.options.onopen&&obj.options.onopen(el,obj)},obj.resetPosition=function(){obj.container.style.top="",obj.container.style.left=""},obj.isOpen=function(){return"none"!=el.style.display},obj.close=function(){obj.isOpen()&&(el.style.display="none",obj.options.backdrop&&(backdrop.style.display=""),obj.container.classList.remove("jmodal_fullscreen"),"function"==typeof obj.options.onclose&&obj.options.onclose(el,obj))},obj.options.url?ajax({url:obj.options.url,method:"GET",dataType:"text/html",success:function(data){obj.content.innerHTML=data,obj.options.closed||obj.open(),"function"==typeof obj.options.onload&&obj.options.onload(obj)}}):(obj.options.closed||obj.open(),"function"==typeof obj.options.onload&&obj.options.onload(obj)),el.modal=obj,Events(),Events=function(){},obj}}();var notification=function(){var Component=function(options){var obj={options:{}},defaults={icon:null,name:"Notification",date:null,error:null,title:null,message:null,timeout:4e3,autoHide:!0,closeable:!0};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];var notification=document.createElement("div");notification.className="jnotification",obj.options.error&&notification.classList.add("jnotification-error");var notificationContainer=document.createElement("div");notificationContainer.className="jnotification-container",notification.appendChild(notificationContainer);var notificationHeader=document.createElement("div");notificationHeader.className="jnotification-header",notificationContainer.appendChild(notificationHeader);var notificationImage=document.createElement("div");if(notificationImage.className="jnotification-image",notificationHeader.appendChild(notificationImage),obj.options.icon){var notificationIcon=document.createElement("img");notificationIcon.src=obj.options.icon,notificationImage.appendChild(notificationIcon)}var notificationName=document.createElement("div");if(notificationName.className="jnotification-name",notificationName.innerHTML=obj.options.name,notificationHeader.appendChild(notificationName),1==obj.options.closeable){var notificationClose=document.createElement("div");notificationClose.className="jnotification-close",notificationClose.onclick=function(){obj.hide()},notificationHeader.appendChild(notificationClose)}var notificationDate=document.createElement("div");notificationDate.className="jnotification-date",notificationHeader.appendChild(notificationDate);var notificationContent=document.createElement("div");if(notificationContent.className="jnotification-content",notificationContainer.appendChild(notificationContent),obj.options.title){var notificationTitle=document.createElement("div");notificationTitle.className="jnotification-title",notificationTitle.innerHTML=obj.options.title,notificationContent.appendChild(notificationTitle)}var notificationMessage=document.createElement("div");if(notificationMessage.className="jnotification-message",notificationMessage.innerHTML=obj.options.message,notificationContent.appendChild(notificationMessage),obj.show=function(){document.body.appendChild(notification),helpers.getWindowWidth()>800?animation.fadeIn(notification):animation.slideTop(notification,1)},obj.hide=function(){helpers.getWindowWidth()>800?animation.fadeOut(notification,(function(){notification.parentNode&&(notification.parentNode.removeChild(notification),notificationTimeout&&clearTimeout(notificationTimeout))})):animation.slideTop(notification,0,(function(){notification.parentNode&&(notification.parentNode.removeChild(notification),notificationTimeout&&clearTimeout(notificationTimeout))}))},obj.show(),1==obj.options.autoHide)var notificationTimeout=setTimeout((function(){obj.hide()}),obj.options.timeout);return helpers.getWindowWidth()<800&&notification.addEventListener("swipeup",(function(e){obj.hide(),e.preventDefault(),e.stopPropagation()})),obj};return Component.isVisible=function(){var j=document.querySelector(".jnotification");return!(!j||!j.parentNode)},Component}();function Search(el,options){if(el.search)return el.search;var index=null,createList=function(data){if("function"==typeof obj.options.onsearch){var ret=obj.options.onsearch(obj,data);ret&&(data=ret)}if(container.innerHTML="",data.length){el.style.display="block";for(var len=data.length<11?data.length:10,i=0;i<len;i++){if("string"==typeof data[i])var text=data[i],value=data[i];else!(text=data[i].text)&&data[i].name&&(text=data[i].name),!(value=data[i].value)&&data[i].id&&(value=data[i].id);var div=document.createElement("div");div.setAttribute("data-value",value),div.setAttribute("data-text",text),div.className="jsearch_item",data[i].id&&div.setAttribute("id",data[i].id),obj.options.forceSelect&&0==i&&div.classList.add("selected");var img=document.createElement("img");data[i].image?img.src=data[i].image:img.style.display="none",div.appendChild(img);var item=document.createElement("div");item.innerHTML=text,div.appendChild(item),container.appendChild(div)}}else el.style.display=""},execute=function(str){if(str!=obj.terms)if(obj.terms=str,index=obj.options.forceSelect?0:null,Array.isArray(obj.options.data)){var results=obj.options.data.filter((function(item){return function(o){if("string"==typeof o){if((""+o).toLowerCase().search(str.toLowerCase())>=0)return!0}else for(var key in o)if((""+o[key]).toLowerCase().search(str.toLowerCase())>=0)return!0;return!1}(item)}));createList(results)}else ajax({url:obj.options.data+str,method:"GET",dataType:"json",success:function(data){createList(data)}})},timer=null,obj=function(str){timer&&clearTimeout(timer),timer=setTimeout((function(){execute(str)}),500)};null===options.forceSelect&&(options.forceSelect=!0),obj.options={data:options.data||null,input:options.input||null,searchByNode:options.searchByNode||null,onselect:options.onselect||null,forceSelect:options.forceSelect,onsearch:options.onsearch||null,onbeforesearch:options.onbeforesearch||null},obj.selectIndex=function(item){var id=item.getAttribute("id"),text=item.getAttribute("data-text"),value=item.getAttribute("data-value"),image=item.children[0].src||"";"function"==typeof obj.options.onselect&&obj.options.onselect(obj,text,value,id,image),obj.close()},obj.open=function(){el.style.display="block"},obj.close=function(){timer&&clearTimeout(timer),obj.terms="",container.innerHTML="",el.style.display=""},obj.isOpened=function(){return!!el.style.display},obj.keydown=function(e){obj.isOpened()&&("Enter"==e.key?null!==index&&container.children[index]?(obj.selectIndex(container.children[index]),e.preventDefault()):obj.close():"ArrowUp"===e.key?(null!==index&&container.children[0]&&(container.children[index].classList.remove("selected"),obj.options.forceSelect||0!==index?(index=Math.max(0,index-1),container.children[index].classList.add("selected")):index=null),e.preventDefault()):"ArrowDown"===e.key&&(null==index?index=-1:container.children[index].classList.remove("selected"),index<9&&container.children[index+1]&&index++,container.children[index].classList.add("selected"),e.preventDefault()))},obj.keyup=function(e){if(!obj.options.searchByNode&&obj.options.input)if("DIV"===obj.options.input.tagName)var terms=obj.options.input.innerText;else terms=obj.options.input.value;else{var node=helpers.getNode();if(node)terms=node.innerText}if("function"==typeof obj.options.onbeforesearch){var ret=obj.options.onbeforesearch(obj,terms);if(ret)terms=ret;else if(!1===ret)return}obj(terms)},obj.blur=function(e){obj.close()},obj.options.input&&(obj.options.input.addEventListener("keyup",obj.keyup),obj.options.input.addEventListener("keydown",obj.keydown),obj.options.input.addEventListener("blur",obj.blur));var container=document.createElement("div");return container.classList.add("jsearch_container"),container.onmousedown=function(e){if(e.target.classList.contains("jsearch_item"))var element=e.target;else element=e.target.parentNode;obj.selectIndex(element),e.preventDefault()},el.appendChild(container),el.classList.add("jsearch"),el.search=obj,obj}function Upload(el,options){var obj={options:{}},defaults={type:"image",extension:"*",input:!1,minWidth:!1,maxWidth:null,maxHeight:null,maxJpegSizeBytes:null,onchange:null,multiple:!1,remoteParser:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];1==obj.options.multiple&&el.setAttribute("data-multiple",!0),el.content=[],el.classList.add("jupload"),1==obj.options.input&&el.classList.add("input"),obj.add=function(data){if(0==obj.options.multiple&&(el.content=[],el.innerText=""),"image"==obj.options.type){var img=document.createElement("img");img.setAttribute("src",data.file),img.setAttribute("tabindex",-1),el.getAttribute("name")||(img.className="jfile",img.content=data),el.appendChild(img)}else{if(data.name)var name=data.name;else name=data.file;var div=document.createElement("div");div.innerText=name||obj.options.type,div.classList.add("jupload-item"),div.setAttribute("tabindex",-1),el.appendChild(div)}data.content&&(data.file=helpers.guid()),el.content.push(data),"function"==typeof obj.options.onchange&&obj.options.onchange(el,data)},obj.addFromFile=function(file){if(file.type.split("/")[0]==obj.options.type){var readFile=new FileReader;readFile.addEventListener("load",(function(v){var data={file:v.srcElement.result,extension:file.name.substr(file.name.lastIndexOf(".")+1),name:file.name,size:file.size,lastmodified:file.lastModified,content:v.srcElement.result};obj.add(data)})),readFile.readAsDataURL(file)}else alert(dictionary.translate("This extension is not allowed"))},obj.addFromUrl=function(src){if("data"==src.substr(0,4)||obj.options.remoteParser)if("data"==src.substr(0,4)){if((extension=(extension=src.split(";"))[0].split("/"))[0].replace("data:","")==obj.options.type){var data={file:src,name:"",extension:extension[1],content:src};obj.add(data)}else alert(obj.options.text.extensionNotAllowed)}else{var extension=src.substr(src.lastIndexOf(".")+1);src=obj.options.remoteParser+src,ajax({url:src,type:"GET",dataType:"blob",success:function(data){}})}else console.error("remoteParser not defined in your initialization")};var mime=obj.options.type+"/"+obj.options.extension,input=document.createElement("input");input.type="file",input.setAttribute("accept",mime),input.onchange=function(){for(var i=0;i<this.files.length;i++)obj.addFromFile(this.files[i])},1==obj.options.multiple&&input.setAttribute("multiple",!0);var current=null;return el.addEventListener("click",(function(e){current=null,el.children.length&&e.target!==el?e.target.parentNode==el&&(current=e.target):helpers.click(input)})),el.addEventListener("dblclick",(function(e){helpers.click(input)})),el.addEventListener("dragenter",(function(e){el.style.border="1px dashed #000"})),el.addEventListener("dragleave",(function(e){el.style.border="1px solid #eee"})),el.addEventListener("dragstop",(function(e){el.style.border="1px solid #eee"})),el.addEventListener("dragover",(function(e){e.preventDefault()})),el.addEventListener("keydown",(function(e){if(current&&46==e.which){var index=Array.prototype.indexOf.call(el.children,current);index>=0&&(el.content.splice(index,1),current.remove(),current=null)}})),el.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation();var html=(e.originalEvent||e).dataTransfer.getData("text/html");if((e.originalEvent||e).dataTransfer.files.length)for(var i=0;i<e.dataTransfer.files.length;i++)obj.addFromFile(e.dataTransfer.files[i]);else if(html){0==obj.options.multiple&&(el.innerText="");var div=document.createElement("div");div.innerHTML=html;var img=div.querySelectorAll("img");if(img.length)for(i=0;i<img.length;i++)obj.addFromUrl(img[i].src)}return el.style.border="1px solid #eee",!1})),el.val=function(val){if(void 0===val)return el.content&&el.content.length?el.content:null;if(el.innerText="",el.content=[],val)if(Array.isArray(val))for(var i=0;i<val.length;i++)"string"==typeof val[i]?obj.add({file:val[i]}):obj.add(val[i]);else"string"==typeof val&&obj.add({file:val})},el.upload=el.image=obj,obj}var sha512=__webpack_require__(195),sha512_default=__webpack_require__.n(sha512),jSuites={...dictionary,...helpers,version:"5.0.27",setExtensions:function(o){if("object"==typeof o)for(var k=Object.keys(o),i=0;i<k.length;i++)jSuites[k[i]]=o[k[i]]},tracking:Tracking,path:Path,sorting:Sorting,lazyLoading:LazyLoading,ajax:ajax,animation:animation,calendar:calendar,color:Color,contextmenu:contextmenu,dropdown:dropdown,editor:editor,floating:floating,form:plugins_form,mask:mask,modal:modal,notification:notification,palette:palette,picker:Picker,progressbar:function(el,options){var obj={options:{}},defaults={value:0,onchange:null,width:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:obj.options[property]=defaults[property];el.classList.add("jprogressbar"),el.setAttribute("tabindex",1),el.setAttribute("data-value",obj.options.value);var bar=document.createElement("div");bar.style.width=obj.options.value+"%",bar.style.color="#fff",el.appendChild(bar),obj.options.width&&(el.style.width=obj.options.width),obj.setValue=function(value){value=parseInt(value),obj.options.value=value,bar.style.width=value+"%",el.setAttribute("data-value",value+"%"),el.style.color=value<6?"#000":"#fff",obj.options.value=value,"function"==typeof obj.options.onchange&&obj.options.onchange(el,value),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},obj.getValue=function(){return obj.options.value};var action=function(e){if(e.which){var rect=el.getBoundingClientRect();if(e.changedTouches&&e.changedTouches[0]){var x=e.changedTouches[0].clientX;e.changedTouches[0].clientY}else x=e.clientX,e.clientY;obj.setValue(Math.round((x-rect.left)/rect.width*100))}};return"touchstart"in document.documentElement==!0?(el.addEventListener("touchstart",action),el.addEventListener("touchend",action)):(el.addEventListener("mousedown",action),el.addEventListener("mousemove",action)),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.progressbar=obj,obj},rating:function(el,options){if(el.rating)return el.rating.setOptions(options,!0);var obj={options:{},setOptions:function(options,reset){var defaults={number:5,value:0,tooltip:["Very bad","Bad","Average","Good","Very good"],onchange:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);el.innerHTML="";for(var i=0;i<obj.options.number;i++){var div=document.createElement("div");div.setAttribute("data-index",i+1),div.setAttribute("title",obj.options.tooltip[i]),el.appendChild(div)}if(obj.options.value)for(i=0;i<obj.options.number;i++)i<obj.options.value&&el.children[i].classList.add("jrating-selected");return obj},setValue:function(index){for(var i=0;i<obj.options.number;i++)i<index?el.children[i].classList.add("jrating-selected"):(el.children[i].classList.remove("jrating-over"),el.children[i].classList.remove("jrating-selected"));obj.options.value=index,"function"==typeof obj.options.onchange&&obj.options.onchange(el,index),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))},getValue:function(){return obj.options.value}};return obj.setOptions(options),el.classList.add("jrating"),el.addEventListener("click",(function(e){var index=e.target.getAttribute("data-index");null!=index&&(index==obj.options.value?obj.setValue(0):obj.setValue(index))})),el.addEventListener("mouseover",(function(e){for(var index=e.target.getAttribute("data-index"),i=0;i<obj.options.number;i++)i<index?el.children[i].classList.add("jrating-over"):el.children[i].classList.remove("jrating-over")})),el.addEventListener("mouseout",(function(e){for(var i=0;i<obj.options.number;i++)el.children[i].classList.remove("jrating-over")})),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.rating=obj,obj},search:Search,slider:function(el,options){var obj={options:{},currentImage:null};if(options&&(obj.options=options),el.setAttribute("tabindex","900"),obj.options.items=[],!el.classList.contains("jslider")){if(el.classList.add("jslider"),el.classList.add("unselectable"),obj.options.height&&(el.style.minHeight=parseInt(obj.options.height)+"px"),obj.options.width&&(el.style.width=parseInt(obj.options.width)+"px"),obj.options.grid){el.classList.add("jslider-grid");var number=el.children.length;number>4&&el.setAttribute("data-total",number-4),el.setAttribute("data-number",number>4?4:number)}var counter=document.createElement("div");if(counter.classList.add("jslider-counter"),el.children.length>0)for(var i=0;i<el.children.length;i++){obj.options.items.push(el.children[i]);var item=document.createElement("div");item.onclick=function(){var index=Array.prototype.slice.call(counter.children).indexOf(this);obj.show(obj.currentImage=obj.options.items[index])},counter.appendChild(item)}var caption=document.createElement("div");caption.className="jslider-caption";var controls=document.createElement("div"),close=document.createElement("div");close.className="jslider-close",close.innerHTML="",close.onclick=function(){obj.close()},controls.appendChild(caption),controls.appendChild(close)}obj.updateCounter=function(index){for(var i=0;i<counter.children.length;i++)if(counter.children[i].classList.contains("jslider-counter-focus")){counter.children[i].classList.remove("jslider-counter-focus");break}counter.children[index].classList.add("jslider-counter-focus")},obj.show=function(target){if(!target)target=el.children[0];el.classList.add("jslider-focus"),el.classList.remove("jslider-grid"),el.appendChild(controls),el.appendChild(counter);var index=obj.options.items.indexOf(target);obj.updateCounter(index);for(var i=0;i<el.children.length;i++)el.children[i].style.display="";target.style.display="block",target.previousElementSibling?el.classList.add("jslider-left"):el.classList.remove("jslider-left"),target.nextElementSibling&&"IMG"==target.nextElementSibling.tagName?el.classList.add("jslider-right"):el.classList.remove("jslider-right"),obj.currentImage=target,obj.currentImage.offsetHeight>obj.currentImage.offsetWidth&&obj.currentImage.classList.add("jslider-vertical"),controls.children[0].innerText=obj.currentImage.getAttribute("title")},obj.open=function(){obj.show(),"function"==typeof obj.options.onopen&&obj.options.onopen(el)},obj.close=function(){el.classList.remove("jslider-focus"),el.classList.remove("jslider-left"),el.classList.remove("jslider-right"),obj.options.grid&&el.classList.add("jslider-grid");for(var i=0;i<el.children.length;i++)el.children[i].style.display="";counter.remove(),controls.remove(),obj.currentImage=null,"function"==typeof obj.options.onclose&&obj.options.onclose(el)},obj.reset=function(){el.innerHTML=""},obj.next=function(){var nextImage=obj.currentImage.nextElementSibling;nextImage&&"IMG"===nextImage.tagName&&obj.show(obj.currentImage.nextElementSibling)},obj.prev=function(){obj.currentImage.previousElementSibling&&obj.show(obj.currentImage.previousElementSibling)};var mouseUp=function(e){if("IMG"==e.target.tagName)obj.show(e.target);else if(!e.target.classList.contains("jslider-close")&&!e.target.parentNode.classList.contains("jslider-counter")&&!e.target.classList.contains("jslider-counter")){var offsetX=e.offsetX||e.changedTouches[0].clientX;e.target.clientWidth-offsetX<40?obj.next():offsetX<40&&obj.prev()}};return"ontouchend"in document.documentElement==!0?el.addEventListener("touchend",mouseUp):el.addEventListener("mouseup",mouseUp),el.addEventListener("swipeleft",(function(e){obj.next(),e.preventDefault(),e.stopPropagation()})),el.addEventListener("swiperight",(function(e){obj.prev(),e.preventDefault(),e.stopPropagation()})),el.addEventListener("keydown",(function(e){27==e.which&&obj.close()})),el.slider=obj,obj},tabs:Tabs,tags:function(el,options){if(el.tags)return el.tags.setOptions(options,!0);var obj={type:"tags",options:{}},limit=function(){return!!(obj.options.limit&&el.children.length>=obj.options.limit)},search=null,searchContainer=null;obj.setOptions=function(options,reset){var defaults={value:"",limit:null,search:null,placeholder:null,validation:null,onbeforepaste:null,onbeforechange:null,onlimit:null,onchange:null,onfocus:null,onblur:null,onload:null};for(var property in defaults)options&&options.hasOwnProperty(property)?obj.options[property]=options[property]:void 0!==obj.options[property]&&!0!==reset||(obj.options[property]=defaults[property]);return obj.options.placeholder?el.setAttribute("data-placeholder",obj.options.placeholder):el.removeAttribute("data-placeholder"),el.placeholder=obj.options.placeholder,obj.setValue(obj.options.value),filter(),obj.options.search?searchContainer||(searchContainer=document.createElement("div"),el.parentNode.insertBefore(searchContainer,el.nextSibling),search=Search(searchContainer,{data:obj.options.search,onselect:function(a,b,c){obj.selectIndex(b,c)}})):searchContainer&&(search=null,searchContainer.remove(),searchContainer=null),obj},obj.add=function(value,focus){if("function"==typeof obj.options.onbeforechange){var ret=obj.options.onbeforechange(el,obj,obj.options.value,value);if(!1===ret)return!1;null!=ret&&(value=ret)}if(search&&search.close(),limit())"function"==typeof obj.options.onlimit?obj.options.onlimit(obj,obj.options.limit):alert(dictionary.translate("You reach the limit number of entries")+" "+obj.options.limit);else{var node=helpers.getNode();if(!(node&&node.parentNode&&node.parentNode.classList.contains("jtags")&&node.nextSibling)||node.nextSibling.innerText&&node.nextSibling.innerText.trim()){if(el.lastChild&&(el.lastChild.innerText.trim()||el.removeChild(el.lastChild)),value&&"string"!=typeof value){for(var i=0;i<=value.length;i++)if(!limit()){if(value[i]&&"string"!=typeof value[i])t=value[i].text,v=value[i].value;else var t=value[i]||"",v=null;div=createElement(t,v)}}else var div=createElement(value,value,node);change()}else div=node.nextSibling;focus&&setFocus(div)}},obj.setLimit=function(limit){obj.options.limit=limit;for(el.children.length;el.children.length>limit;)el.removeChild(el.lastChild)},obj.remove=function(node){node.parentNode.removeChild(node),el.children.length?change():obj.add("",!0)},obj.getData=function(){for(var data=[],i=0;i<el.children.length;i++){var text=el.children[i].innerText.replace("\n",""),value=el.children[i].getAttribute("data-value");value||(value=text),(text||value)&&data.push({text:text,value:value})}return data},obj.getValue=function(index){var value=null;if(null!=index)(value=el.children[index].getAttribute("data-value"))||(value=el.children[index].innerText.replace("\n",""));else{for(var data=[],i=0;i<el.children.length;i++)(value=el.children[i].innerText.replace("\n",""))&&data.push(obj.getValue(i));value=data.join(",")}return value},obj.setValue=function(mixed){if(mixed){if(el.value!=mixed)if(Array.isArray(mixed))obj.add(mixed);else{var text=(""+mixed).trim(),data=extractTags(text);el.innerHTML="",obj.add(data)}}else obj.reset()},obj.reset=function(){el.classList.add("jtags-empty"),el.innerHTML="<div></div>",change()},obj.isValid=function(){for(var test=0,i=0;i<el.children.length;i++)el.children[i].classList.contains("jtags_error")&&test++;return 0==test},obj.selectIndex=function(text,value){var node=helpers.getNode();node&&(node.innerText=text,value&&node.setAttribute("data-value",value),node.classList.remove("jtags_error"),limit()||obj.add("",!0))},obj.search=function(node){node.innerText},obj.destroy=function(){el.removeEventListener("mouseup",tagsMouseUp),el.removeEventListener("keydown",tagsKeyDown),el.removeEventListener("keyup",tagsKeyUp),el.removeEventListener("paste",tagsPaste),el.removeEventListener("focus",tagsFocus),el.removeEventListener("blur",tagsBlur),el.parentNode.removeChild(el)};var setFocus=function(node){if(el.children.length){var range=document.createRange(),sel=window.getSelection();if(!node)node=el.childNodes[el.childNodes.length-1];range.setStart(node,node.length),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range),el.scrollLeft=el.scrollWidth}},createElement=function(label,value,node){var div=document.createElement("div");return div.innerHTML=label||"",value&&div.setAttribute("data-value",value),node&&node.parentNode.classList.contains("jtags")?el.insertBefore(div,node.nextSibling):el.appendChild(div),div},change=function(){var value=obj.getValue();value!=obj.options.value&&(obj.options.value=value,"function"==typeof obj.options.onchange&&obj.options.onchange(el,obj,obj.options.value),el.value!=obj.options.value&&(el.value=obj.options.value,"function"==typeof el.oninput&&el.oninput({type:"input",target:el,value:el.value}))),filter()},filter=function(){for(var i=0;i<el.children.length;i++)"DIV"===el.children[i].tagName&&(obj.getValue(i)?(el.children[i].classList.add("jtags_label"),"function"==typeof obj.options.validation&&obj.getValue(i)?obj.options.validation(el.children[i],el.children[i].innerText,el.children[i].getAttribute("data-value"))?el.children[i].classList.remove("jtags_error"):el.children[i].classList.add("jtags_error"):el.children[i].classList.remove("jtags_error")):el.children[i].classList.remove("jtags_label"));isEmpty()},isEmpty=function(){el.innerText.trim()?el.classList.remove("jtags-empty"):el.children.length&&"BR"!==el.children[0].tagName||(el.innerHTML="",setFocus(createElement()))},extractTags=function(text){var data=[],word="";if(text=text.trim()){for(var i=0;i<text.length;i++)","==text[i]||";"==text[i]||"\n"==text[i]?word&&(data.push(word.trim()),word=""):word+=text[i];word&&data.push(word)}return data},anchorOffset=0,tagsKeyDown=function(e){if(anchorOffset=window.getSelection().anchorOffset,isEmpty(),"Tab"===e.key||";"===e.key||","===e.key)window.getSelection().anchorOffset>1&&(limit()?"function"==typeof obj.options.onlimit&&obj.options.onlimit(obj,obj.options.limit):obj.add("",!0)),e.preventDefault();else if("Enter"==e.key){if(!search||!search.isOpened())window.getSelection().anchorOffset>1&&(limit()||obj.add("",!0)),e.preventDefault()}else"Backspace"==e.key&&1==el.children.length&&window.getSelection().anchorOffset<1&&e.preventDefault();search&&search.keydown(e),isEmpty()},tagsKeyUp=function(e){if(39==e.which){var n=window.getSelection().anchorOffset;n>1&&n==anchorOffset&&obj.add("",!0)}else 13==e.which||38==e.which||40==e.which?e.preventDefault():search&&search.keyup(e);filter()},tagsPaste=function(e){if(e.clipboardData||e.originalEvent.clipboardData)var text=(e.originalEvent||e).clipboardData.getData("text/plain");else if(window.clipboardData)text=window.clipboardData.getData("Text");var data=extractTags(text);if("function"==typeof obj.options.onbeforepaste){var ret=obj.options.onbeforepaste(el,obj,data);if(!1===ret)return e.preventDefault(),!1;ret&&(data=ret)}data.length>1?(obj.add(data,!0),e.preventDefault()):data[0]&&(document.execCommand("insertText",!1,data[0]),e.preventDefault())},tagsMouseUp=function(e){if(e.target.parentNode&&e.target.parentNode.classList.contains("jtags")&&(e.target.classList.contains("jtags_label")||e.target.classList.contains("jtags_error"))){var rect=e.target.getBoundingClientRect();rect.width-(e.clientX-rect.left)<16&&obj.remove(e.target)}e.target==el&&setFocus()},tagsFocus=function(){el.classList.contains("jtags-focus")||(el.children.length&&!obj.getValue(el.children.length-1)||limit()||createElement(""),"function"==typeof obj.options.onfocus&&obj.options.onfocus(el,obj,obj.getValue()),el.classList.add("jtags-focus"))},tagsBlur=function(){if(el.classList.contains("jtags-focus")){search&&search.close();for(var i=0;i<el.children.length-1;i++)obj.getValue(i)||el.removeChild(el.children[i]);change(),el.classList.remove("jtags-focus"),"function"==typeof obj.options.onblur&&obj.options.onblur(el,obj,obj.getValue())}};return"touchend"in document.documentElement==1?el.addEventListener("touchend",tagsMouseUp):el.addEventListener("mouseup",tagsMouseUp),el.addEventListener("keydown",tagsKeyDown),el.addEventListener("keyup",tagsKeyUp),el.addEventListener("paste",tagsPaste),el.addEventListener("focus",tagsFocus),el.addEventListener("blur",tagsBlur),el.setAttribute("contenteditable",!0),el.classList.add("jtags"),obj.setOptions(options),"function"==typeof obj.options.onload&&obj.options.onload(el,obj),el.change=obj.setValue,el.val=function(val){if(void 0===val)return obj.getValue();obj.setValue(val)},el.tags=obj,obj},toolbar:Toolbar,upload:Upload,validations:validations};jSuites.image=Upload,jSuites.image.create=function(data){var img=document.createElement("img");return img.setAttribute("src",data.file),img.className="jfile",img.setAttribute("tabindex",-1),img.content=data,img},jSuites.tracker=plugins_form,jSuites.loading=animation.loading,jSuites.sha512=sha512_default();const Events=function(){document.jsuitesComponents=[];const find=function(DOMElement,component){return!(!DOMElement[component.type]||DOMElement[component.type]!=component)||(!(!DOMElement.component||DOMElement.component!=component)||!!DOMElement.parentNode&&find(DOMElement.parentNode,component))};let element=null,editorAction=!1,state={x:null,y:null},tooltip=document.createElement("div");tooltip.classList.add("jtooltip");document.addEventListener("mouseup",(function(e){editorAction&&editorAction.e&&("function"==typeof editorAction.e.refresh&&state.actioned&&editorAction.e.refresh(),editorAction.e.style.cursor=""),state={x:null,y:null},editorAction=!1})),document.addEventListener("mousedown",(function(e){var item=jSuites.findElement(e.target,"jpanel");if(item&&!item.classList.contains("readonly")){item.focus();var rect=e.target.getBoundingClientRect();editorAction={e:item,x:e.clientX,y:e.clientY,w:rect.width,h:rect.height,d:item.style.cursor,resizing:!!item.style.cursor,actioned:!1},item.style.width||(item.style.width=rect.width+"px"),item.style.height||(item.style.height=rect.height+"px");var s=window.getSelection();if(s.rangeCount)for(var i=0;i<s.rangeCount;i++)s.removeRange(s.getRangeAt(i));e.preventDefault(),e.stopPropagation()}else editorAction=!1;if(e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else x=e.clientX,y=e.clientY;var path=e.path||e.composedPath&&e.composedPath();if(path)element=path[0];else{if(e.target&&e.target.shadowRoot)var d=e.target.shadowRoot;else d=document;element=d.elementFromPoint(x,y)}!function(e){if(document.jsuitesComponents&&document.jsuitesComponents.length>0)for(var i=0;i<document.jsuitesComponents.length;i++)document.jsuitesComponents[i]&&!find(e,document.jsuitesComponents[i])&&document.jsuitesComponents[i].close()}(element)})),document.addEventListener("mousemove",(function(e){if(editorAction){var x=e.clientX||e.pageX,y=e.clientY||e.pageY;if(editorAction.resizing){var width=null,height=null;if("e-resize"==editorAction.d||"ne-resize"==editorAction.d||"se-resize"==editorAction.d)if(width=editorAction.w+(x-editorAction.x),editorAction.e.style.width=width+"px",e.shiftKey){var newHeight=(x-editorAction.x)*(editorAction.h/editorAction.w);height=editorAction.h+newHeight,editorAction.e.style.height=height+"px"}else newHeight=!1;newHeight||"s-resize"!=editorAction.d&&"se-resize"!=editorAction.d&&"sw-resize"!=editorAction.d||(height=editorAction.h+(y-editorAction.y),editorAction.e.style.height=height+"px"),"function"==typeof editorAction.e.refresh&&(state.actioned=!0,editorAction.e.refresh("dimensions",width,height))}else{null==state.x&&null==state.y&&(state.x=x,state.y=y);var dx=x-state.x,dy=y-state.y,top=editorAction.e.offsetTop+dy,left=editorAction.e.offsetLeft+dx;editorAction.e.style.top=top+"px",editorAction.e.style.left=left+"px",editorAction.e.style.cursor="move",state.x=x,state.y=y,"function"==typeof editorAction.e.refresh&&(state.actioned=!0,editorAction.e.refresh("position",top,left))}}else{var item=jSuites.findElement(e.target,"jpanel");if(item&&item.getAttribute("tabindex")){var rect=item.getBoundingClientRect();e.clientY-rect.top<15?rect.width-(e.clientX-rect.left)<15?item.style.cursor="ne-resize":e.clientX-rect.left<15?item.style.cursor="nw-resize":item.style.cursor="n-resize":rect.height-(e.clientY-rect.top)<15?rect.width-(e.clientX-rect.left)<15?item.style.cursor="se-resize":e.clientX-rect.left<15?item.style.cursor="sw-resize":item.style.cursor="s-resize":rect.width-(e.clientX-rect.left)<15?item.style.cursor="e-resize":e.clientX-rect.left<15?item.style.cursor="w-resize":item.style.cursor=""}}})),document.addEventListener("mouseover",(function(e){var message=e.target.getAttribute("data-tooltip");if(message){if(tooltip.innerText=message,e.changedTouches&&e.changedTouches[0])var x=e.changedTouches[0].clientX,y=e.changedTouches[0].clientY;else x=e.clientX,y=e.clientY;tooltip.style.top=y+"px",tooltip.style.left=x+"px",document.body.appendChild(tooltip)}else tooltip.innerText&&(tooltip.innerText="",document.body.removeChild(tooltip))})),document.addEventListener("dblclick",(function(e){var item=jSuites.findElement(e.target,"jpanel");item&&"function"==typeof item.dblclick&&item.dblclick(e)})),document.addEventListener("keydown",(function(e){let item=document.activeElement;item&&"Delete"===e.key&&"function"==typeof item.delete&&(item.delete(),e.preventDefault(),e.stopImmediatePropagation()),document.jsuitesComponents&&document.jsuitesComponents.length&&(item=document.jsuitesComponents[document.jsuitesComponents.length-1],item&&"Escape"===e.key&&"function"==typeof item.isOpened&&"function"==typeof item.close&&item.isOpened()&&(item.close(),e.preventDefault(),e.stopImmediatePropagation()))})),document.addEventListener("contextmenu",(function(e){var item=document.activeElement;if(item&&"function"==typeof item.contextmenu)item.contextmenu(e),e.preventDefault(),e.stopImmediatePropagation();else if(item=jSuites.findElement(e.target,(function(o){return o.tagName&&o.getAttribute("aria-contextmenu-id")})),item){var o=document.querySelector("#"+item);o?(o.contextmenu.open(e),e.preventDefault(),e.stopImmediatePropagation()):console.error("JSUITES: contextmenu id not found: "+item)}})),document.addEventListener("input",(function(e){(e.target.getAttribute("data-mask")||e.target.mask)&&jSuites.mask(e)}))};"undefined"==typeof document||document.jsuitesComponents||Events();var jsuites=jSuites}(),__webpack_exports__=__webpack_exports__.default}()}));